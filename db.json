{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/img/img1.png","path":"img/img1.png","modified":0,"renderable":0},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"themes/landscape/.gitignore","hash":"ea2b285a29690f1eabbad0f3a158e34e9ccd1d86","modified":1480720838057},{"_id":"themes/landscape/Gruntfile.js","hash":"412e30530784993c8997aa8b1319c669b83b91c2","modified":1480720838061},{"_id":"themes/landscape/_config.yml","hash":"218c5fb76666696c42dc86e2de4711e6b80befbf","modified":1480720838068},{"_id":"themes/landscape/package.json","hash":"d07f326588fef82f1d23ae3101c9ddfff34c132f","modified":1480720838263},{"_id":"themes/landscape/LICENSE","hash":"82ce1e15ddeabeaaca60e2186b5a3ce42b1a9c49","modified":1480720838066},{"_id":"themes/landscape/README.md","hash":"e7cc82dc79596f36ba05a8139e7d6b2dfc4ae5f9","modified":1480720838067},{"_id":"source/_posts/binary-search.md","hash":"3bd5e367a345b6197fdb6e9f7750837f525e202f","modified":1480831683719},{"_id":"source/_posts/c-11-introduce.md","hash":"0cd5cb1fa86cfd2c2315f795ce594ca3c0b0b4eb","modified":1480917721420},{"_id":"source/_posts/han-nuo-ta.md","hash":"a305b3b02835f5a018c76d78421a7e1c7400da65","modified":1480831706105},{"_id":"source/_posts/mian-shi-1.md","hash":"39ea6279b839aec793d53138f6075703848c5191","modified":1481161684760},{"_id":"source/_posts/hello-world.md","hash":"ae884dc64ae00d7da4362d8b8bc2726b223372bc","modified":1480722688149},{"_id":"source/_posts/shader-gray.md","hash":"eed3f9c9d86a8ed78608f13dc18bbc436806c4ad","modified":1481115108645},{"_id":"source/_posts/ndk-crash-log.md","hash":"97cb30490a7f1953431fa10463e16d37a33f34c9","modified":1480947156295},{"_id":"source/img/img1.png","hash":"29206d16a6c54d97ffed58a8f4e2535f46a80150","modified":1480742668631},{"_id":"source/_posts/hot-update.md","hash":"e1fdb35364776c03825593f517cf85b3ba3bf09b","modified":1480746391829},{"_id":"themes/landscape/languages/nl.yml","hash":"3d82ec703d0b3287739d7cb4750a715ae83bfcb3","modified":1480720838080},{"_id":"themes/landscape/languages/default.yml","hash":"f26a34a7983d4bc17c65c7f0f14da598e62ce66d","modified":1480720838072},{"_id":"themes/landscape/languages/fr.yml","hash":"b4be1c1592a72012e48df2b3ec41cc9685573e50","modified":1480720838076},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"b057f389c6713010f97d461e48ec959b0b6f3b44","modified":1480720838092},{"_id":"source/_posts/skeletonanimation-data-interface.md","hash":"2bf3f6298d40983400a61106284b5a15d8fc4fa5","modified":1480726248000},{"_id":"themes/landscape/languages/no.yml","hash":"ddf2035e920a5ecb9076138c184257d9f51896a7","modified":1480720838084},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1480720838231},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"f5f0ca88185da7a8457760d84bf221781473bd7c","modified":1480720838097},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1480720838235},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1480720838257},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1480720838257},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1480720838261},{"_id":"themes/landscape/scripts/fancybox.js","hash":"4c130fc242cf9b59b5df6ca5eae3b14302311e8c","modified":1480720838269},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1480720838236},{"_id":"themes/landscape/languages/ru.yml","hash":"2a476b4c6e04900914c81378941640ac5d58a1f0","modified":1480720838088},{"_id":"themes/landscape/layout/layout.ejs","hash":"5d86bc48b0f1bdce9a2bb548c2f8e7a4f50d499a","modified":1480720838253},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"5062c723721d8497eebad372f57092ade45041f4","modified":1480720838099},{"_id":"source/_posts/hot-update/img1.png","hash":"29206d16a6c54d97ffed58a8f4e2535f46a80150","modified":1480742668631},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"6faefe07f3d64e21c7743276e0f55ee1544f9d86","modified":1480720838134},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"3beb0d164acacb6f21e1ca2038158a74ab4a73e4","modified":1480720838114},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"89998e6b2929c4ff5093bbf6b86d611d7420be52","modified":1480720838154},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"5cf2b8a1148e6f8c4bd9ca9e3b84c7e5a59d56bc","modified":1480720838127},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"148bdf714dd1a7bf55e571f13808ceae079200cc","modified":1480720838155},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"a7faab4f3601b28107af5b1095b3966c2f88fec8","modified":1480720838098},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"347cf1befd2ea637c24bd5901929d8e36e359e75","modified":1480720838159},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"c70869569749a8f48cce202fa57926c06b55fdab","modified":1480720838198},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1480720838144},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"866790acc13fed44b7ef74c3e19c300a3d6180d8","modified":1480720838208},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"0fe1e52c291c9499bd05b966e0b9aac5be351c58","modified":1480720838207},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"16800f85ffb036d2644a26e02facd61acb3706e9","modified":1480720838214},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"6017c54a8c3c8ff8db491cfbea3100c139da75d6","modified":1480720838223},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"7259c179aa0c41c02e467ad892292e90430aaabc","modified":1480720838227},{"_id":"themes/landscape/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1480720838274},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1480720838370},{"_id":"themes/landscape/source/css/style.styl","hash":"4a3e64ee8dad5834860c30b4176882eff628ca6b","modified":1480720838368},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1480720838370},{"_id":"themes/landscape/source/css/_variables.styl","hash":"8b63ea3c7199524b9a1541075c6f8fb2c0d0ea3d","modified":1480720838311},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1480720838372},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1480720838373},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1480720838374},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1480720838371},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"2e54d51d21e68ebc4bb870f6e57d3bfb660d4f9c","modified":1480720838424},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"16128d2422645e18d1b6882d4c4df17d895bd76e","modified":1480720838168},{"_id":"themes/landscape/source/js/script.js","hash":"c0d368681c687258b628bacc84cc30d353de6d47","modified":1480720838465},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"947f513f7a85fbcf085624e46dc2ae6de8185eec","modified":1480720838173},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"cbb3819ce512bd24db8bad41b8617d46eba82fdc","modified":1480720838185},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"2da892a02778236b64076e5e8802ef0566e1d9e8","modified":1480720838463},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1480720838190},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"58193c802f307ec9bc9e586c0e8a13ebef45d2f8","modified":1480720838441},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1480720838186},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"b0bf3f5d923c261ca2b5fabab513f1ec2708c8ca","modified":1480720838180},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"2834870661e490775f9154d71638bfdc72e640a6","modified":1480720838283},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"9e574d8eb1a5285ec3b4346607414770d2f7e0ff","modified":1480720838278},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"6f7aa810f296d6a1a4486637b5a853d35a198938","modified":1480720838288},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"67e59feb18eee6026717cb440d86ab9551782628","modified":1480720838292},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"e291bc8c5f0c21080baa549d5d9ef2f39a871ea7","modified":1480720838279},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"680c7b809b62cd3ad294e822793fbd0b1a32cc33","modified":1480720838293},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"1fb15f13ba70d5b954f62920c6b63d26e2fb2985","modified":1480720838294},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"ac19f1621305ca9f6a7b74acd211a4c0d88690bd","modified":1480720838293},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"4132e25ba9680c4b911a01abc75f501cda3fa4f1","modified":1480720838299},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"8d971a00e644a600179b04815688d188f094012e","modified":1480720838303},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1480720838305},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1480720838304},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1480720838318},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1480720838358},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1480720838334},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1480720838375},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1480720838379},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1480720838404},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1480720838352},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"e14c32cc6823b81b2f758512f13ed8eb9ef2b454","modified":1480720838403},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"4c9c395d705d22af7da06870d18f434e2a2eeaf9","modified":1480720838393},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"83cdfea43632b613771691a11f56f99d85fb6dbd","modified":1480720838419},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"a275426daefd3716c53561fad121d258a7f05b47","modified":1480720838344},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1480720838364},{"_id":"public/2016/12/05/shader-gray/index.html","hash":"64ee7e68dedc64349b14916218fab1e73c5be8ba","modified":1489247206827},{"_id":"public/2016/12/05/ndk-crash-log/index.html","hash":"8e461000d072f0591a5e1d05d6cfb19dae4587a0","modified":1489247206842},{"_id":"public/2016/12/04/han-nuo-ta/index.html","hash":"69f955784867da7bd5e8ffe8fdc61bb93dd974d2","modified":1489247206843},{"_id":"public/2016/12/04/c-11-introduce/index.html","hash":"7bc5e45148d742c8c612c9b8d5310caade4dd5cd","modified":1489247206843},{"_id":"public/2016/12/03/hot-update/index.html","hash":"240cb8490cafc5f5494318df317f7750772f4622","modified":1489247206843},{"_id":"public/2016/12/04/binary-search/index.html","hash":"b2599bc41f261e7b801bddc59fe828ee95dd3d64","modified":1489247206843},{"_id":"public/2016/12/03/skeletonanimation-data-interface/index.html","hash":"e957d4f4cf5455a354dbae405a0975b6ac7b1829","modified":1489247206843},{"_id":"public/2016/12/03/hello-world/index.html","hash":"1ad07adfdb81084e91a5beec6f1f2b1f57c10e89","modified":1489247206843},{"_id":"public/archives/index.html","hash":"f4e3dbfcba09f509fbee0320f40a9bb8f37b619d","modified":1489247206843},{"_id":"public/archives/2016/index.html","hash":"76bf8b1b814fd6237a39e1a675b08a9c21578d77","modified":1489247206843},{"_id":"public/archives/2016/12/index.html","hash":"018703cd009cb95626b8911d34f3e36e2d3aa093","modified":1489247206843},{"_id":"public/categories/算法/index.html","hash":"2d994867b271496602cc601938b5d76daa454385","modified":1489247206843},{"_id":"public/categories/C-11/index.html","hash":"443ae5f45f7b531f9c0fd37ada4655171c98a85b","modified":1489247206844},{"_id":"public/categories/shader/index.html","hash":"269b8f4d75272505c23541ac47fc8ee74f6f8ae8","modified":1489247206844},{"_id":"public/categories/Android/index.html","hash":"433d65e268be2d8d1d1ca7a94b10242d9183c3cb","modified":1489247206844},{"_id":"public/categories/Cocos2d-x/index.html","hash":"c70b3ea55af291acc07226e36a070c3eccbfaecf","modified":1489247206844},{"_id":"public/categories/Cocos2d-x优化/index.html","hash":"b1f004b8128d2a467c1f7151f2deabd56a5a546f","modified":1489247206844},{"_id":"public/index.html","hash":"3c7df2a9baacbb8a6425e633d00f07aeee1f6e89","modified":1489247206844},{"_id":"public/2016/12/07/mian-shi-1/index.html","hash":"df3c33bab5c320a1a3969fe86b5930bd202b8be8","modified":1489247206844},{"_id":"public/categories/笔试题/index.html","hash":"8ddb8b580cffadf9b0712c498d40b93fd2209fc8","modified":1489247206844}],"Category":[{"name":"算法","_id":"ciwflwzlp00022sv0epgne8ni"},{"name":"C++11","_id":"ciwflwzmb00062sv0hhvoeq0s"},{"name":"笔试题","_id":"ciwflwzmx000c2sv0ibj2tvza"},{"name":"shader","_id":"ciwflwzmz000e2sv0y1dkw78d"},{"name":"Android","_id":"ciwflwzn1000g2sv0grsmtgar"},{"name":"Cocos2d-x","_id":"ciwflwznu000l2sv0el8m4zxw"},{"name":"Cocos2d-x优化","_id":"ciwflwzny000m2sv0g8rc7n7k"}],"Data":[],"Page":[],"Post":[{"title":"二分查找","date":"2016-12-03T16:57:09.000Z","_content":"### 迭代\n```c\n        int binary_search(int arr[], int size, int key)\n        {\n            int low, high, mid;\n            low = 0;\n            high = size - 1;\n\n            while (low <= high)\n            {\n                mid = (low + high) / 2;\n                if (arr[mid] == key)\n                {\n                    return mid;\n                }\n                if (arr[mid] < key)\n                {\n                    low = mid + 1;\n                }\n                if (arr[mid] > key)\n                {\n                    high = mid - 1;\n                }\n            }\n\n            return -1;\n        }\n```\n<!--more-->\n### 递归\n```c\n        int binary_search_recursion(int arr[], int key, int low, int high)\n        {\n            if (low > high)\n                return -1;\n            int mid = (low + high) / 2;\n            if (arr[mid] == key)\n                return mid;\n            if (arr[mid] > key)\n            {\n                return binary_search_recursion(arr, key, low, high - 1);\n            }\n            else\n            {\n                return binary_search_recursion(arr, key, low+1, high);\n            }\n        }\n```","source":"_posts/binary-search.md","raw":"---\ntitle: 二分查找\ndate: 2016-12-04 00:57:09\ntags:\ncategories: 算法\n---\n### 迭代\n```c\n        int binary_search(int arr[], int size, int key)\n        {\n            int low, high, mid;\n            low = 0;\n            high = size - 1;\n\n            while (low <= high)\n            {\n                mid = (low + high) / 2;\n                if (arr[mid] == key)\n                {\n                    return mid;\n                }\n                if (arr[mid] < key)\n                {\n                    low = mid + 1;\n                }\n                if (arr[mid] > key)\n                {\n                    high = mid - 1;\n                }\n            }\n\n            return -1;\n        }\n```\n<!--more-->\n### 递归\n```c\n        int binary_search_recursion(int arr[], int key, int low, int high)\n        {\n            if (low > high)\n                return -1;\n            int mid = (low + high) / 2;\n            if (arr[mid] == key)\n                return mid;\n            if (arr[mid] > key)\n            {\n                return binary_search_recursion(arr, key, low, high - 1);\n            }\n            else\n            {\n                return binary_search_recursion(arr, key, low+1, high);\n            }\n        }\n```","slug":"binary-search","published":1,"updated":"2016-12-04T06:08:03.719Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwzlc00002sv02wy3ry5o","content":"<h3 id=\"&#x8FED;&#x4EE3;\"><a href=\"#&#x8FED;&#x4EE3;\" class=\"headerlink\" title=\"&#x8FED;&#x4EE3;\"></a>&#x8FED;&#x4EE3;</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">binary_search</span><span class=\"params\">(<span class=\"keyword\">int</span> arr[], <span class=\"keyword\">int</span> size, <span class=\"keyword\">int</span> key)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">int</span> low, high, mid;</div><div class=\"line\">    low = <span class=\"number\">0</span>;</div><div class=\"line\">    high = size - <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">while</span> (low &lt;= high)</div><div class=\"line\">    {</div><div class=\"line\">        mid = (low + high) / <span class=\"number\">2</span>;</div><div class=\"line\">        <span class=\"keyword\">if</span> (arr[mid] == key)</div><div class=\"line\">        {</div><div class=\"line\">            <span class=\"keyword\">return</span> mid;</div><div class=\"line\">        }</div><div class=\"line\">        <span class=\"keyword\">if</span> (arr[mid] &lt; key)</div><div class=\"line\">        {</div><div class=\"line\">            low = mid + <span class=\"number\">1</span>;</div><div class=\"line\">        }</div><div class=\"line\">        <span class=\"keyword\">if</span> (arr[mid] &gt; key)</div><div class=\"line\">        {</div><div class=\"line\">            high = mid - <span class=\"number\">1</span>;</div><div class=\"line\">        }</div><div class=\"line\">    }</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</div><div class=\"line\">}</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h3 id=\"&#x9012;&#x5F52;\"><a href=\"#&#x9012;&#x5F52;\" class=\"headerlink\" title=\"&#x9012;&#x5F52;\"></a>&#x9012;&#x5F52;</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">binary_search_recursion</span><span class=\"params\">(<span class=\"keyword\">int</span> arr[], <span class=\"keyword\">int</span> key, <span class=\"keyword\">int</span> low, <span class=\"keyword\">int</span> high)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">if</span> (low &gt; high)</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</div><div class=\"line\">    <span class=\"keyword\">int</span> mid = (low + high) / <span class=\"number\">2</span>;</div><div class=\"line\">    <span class=\"keyword\">if</span> (arr[mid] == key)</div><div class=\"line\">        <span class=\"keyword\">return</span> mid;</div><div class=\"line\">    <span class=\"keyword\">if</span> (arr[mid] &gt; key)</div><div class=\"line\">    {</div><div class=\"line\">        <span class=\"keyword\">return</span> binary_search_recursion(arr, key, low, high - <span class=\"number\">1</span>);</div><div class=\"line\">    }</div><div class=\"line\">    <span class=\"keyword\">else</span></div><div class=\"line\">    {</div><div class=\"line\">        <span class=\"keyword\">return</span> binary_search_recursion(arr, key, low+<span class=\"number\">1</span>, high);</div><div class=\"line\">    }</div><div class=\"line\">}</div></pre></td></tr></table></figure>","excerpt":"<h3 id=\"&#x8FED;&#x4EE3;\"><a href=\"#&#x8FED;&#x4EE3;\" class=\"headerlink\" title=\"&#x8FED;&#x4EE3;\"></a>&#x8FED;&#x4EE3;</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">binary_search</span><span class=\"params\">(<span class=\"keyword\">int</span> arr[], <span class=\"keyword\">int</span> size, <span class=\"keyword\">int</span> key)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">int</span> low, high, mid;</div><div class=\"line\">    low = <span class=\"number\">0</span>;</div><div class=\"line\">    high = size - <span class=\"number\">1</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">while</span> (low &lt;= high)</div><div class=\"line\">    {</div><div class=\"line\">        mid = (low + high) / <span class=\"number\">2</span>;</div><div class=\"line\">        <span class=\"keyword\">if</span> (arr[mid] == key)</div><div class=\"line\">        {</div><div class=\"line\">            <span class=\"keyword\">return</span> mid;</div><div class=\"line\">        }</div><div class=\"line\">        <span class=\"keyword\">if</span> (arr[mid] &lt; key)</div><div class=\"line\">        {</div><div class=\"line\">            low = mid + <span class=\"number\">1</span>;</div><div class=\"line\">        }</div><div class=\"line\">        <span class=\"keyword\">if</span> (arr[mid] &gt; key)</div><div class=\"line\">        {</div><div class=\"line\">            high = mid - <span class=\"number\">1</span>;</div><div class=\"line\">        }</div><div class=\"line\">    }</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</div><div class=\"line\">}</div></pre></td></tr></table></figure>","more":"<h3 id=\"&#x9012;&#x5F52;\"><a href=\"#&#x9012;&#x5F52;\" class=\"headerlink\" title=\"&#x9012;&#x5F52;\"></a>&#x9012;&#x5F52;</h3><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">int</span> <span class=\"title\">binary_search_recursion</span><span class=\"params\">(<span class=\"keyword\">int</span> arr[], <span class=\"keyword\">int</span> key, <span class=\"keyword\">int</span> low, <span class=\"keyword\">int</span> high)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">if</span> (low &gt; high)</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</div><div class=\"line\">    <span class=\"keyword\">int</span> mid = (low + high) / <span class=\"number\">2</span>;</div><div class=\"line\">    <span class=\"keyword\">if</span> (arr[mid] == key)</div><div class=\"line\">        <span class=\"keyword\">return</span> mid;</div><div class=\"line\">    <span class=\"keyword\">if</span> (arr[mid] &gt; key)</div><div class=\"line\">    {</div><div class=\"line\">        <span class=\"keyword\">return</span> binary_search_recursion(arr, key, low, high - <span class=\"number\">1</span>);</div><div class=\"line\">    }</div><div class=\"line\">    <span class=\"keyword\">else</span></div><div class=\"line\">    {</div><div class=\"line\">        <span class=\"keyword\">return</span> binary_search_recursion(arr, key, low+<span class=\"number\">1</span>, high);</div><div class=\"line\">    }</div><div class=\"line\">}</div></pre></td></tr></table></figure>"},{"title":"c++11特性简介","date":"2016-12-03T17:10:03.000Z","_content":"#### 右值引用&& 移动语义（std::move）\nC++在用临时对象或函数返回值给左值对象赋值时的深度拷贝，会影响执行效率。\n考虑到临时对象的生命期仅在表达式中持续，如果把临时对象的内容直接移动（move）给被赋值的左值对象，效率改善将是显著的。\n\n总结：消除两个对象交互时不必要的对象拷贝，节省运算存储资源，提高效率。\n<!--more-->\n#### 初始化列表initializer_list\n一个initializer_list当出现在以下两种情况的被自动构造：\n\n- 当初始化的时候使用的是大括号初始化，被自动构造。包括函数调用时和赋值\n- 当涉及到for（initializer： list）,list被自动构造成initializer_list对象\n\n也就是说initializer_list对象只能用大括号{}初始化。\n拷贝一个initializer_list对象并不会拷贝里面的元素。其实只是引用而已。而且里面的元素全部都是const的。\n**方便了STL中容器的初始化。**\n\n#### emplace_back减少内存拷贝和移动\nemplace_back能就地通过参数构造对象，不需要拷贝或者移动内存，相比push_back能更好地避免内存的拷贝与移动，使容器插入元素的性能得到进一步提升。\n\n#### lambda表达式\nlambda 表达式可以方便地构造匿名函数\nC++11 的 lambda 表达式规范如下：\n        \\[ capture ] ( params ) mutable exception attribute -> ret { body }(1) \n        \\[ capture ] ( params ) -> ret { body }(2) \n        \\[ capture ] ( params ) { body }(3) \n        \\[ capture ] { body }(4) \n其中,\n\t* (1) 是完整的 lambda 表达式形式，\n\t* (2) const 类型的 lambda 表达式，该类型的表达式不能改捕获(\"capture\")列表中的值。\n\t* (3)省略了返回值类型的 lambda 表达式，但是该 lambda 表达式的返回类型可以按照下列规则推演出来：\n\t* \n\t\t* 如果 lambda 代码块中包含了 return 语句，则该 lambda 表达式的返回类型由 return 语句的返回类型确定。\n\t\t* 如果没有 return 语句，则类似 void f(...) 函数。\n\n\t* 省略了参数列表，类似于无参函数 f()。\n\n\n**capture指定了在可见域范围内 lambda 表达式的代码内可见得外部变量的列表，具体解释如下**\n\t* [] 什么也没有捕获\n\t* [a, &b] 按值捕获a，按引用捕获b\n\t* [&] 按引用捕获任何用到的外部变量\n\t* [=] 按值捕获任何用到的外部变量\n\t* [a, &] 按值捕获a, 其它的变量按引用捕获\n\t* [&b, =] 按引用捕获b,其它的变量按值捕获\n\t* [this] 按值捕获this指针\n\n#### 强类型枚举（枚举类）\n普通枚举的缺点：\n- 枚举类型不是类型安全的。两种不同的枚举类型之间可以进行比较。\n- 两个不同的枚举，不可以有相同的枚举名。\n\n\t\tenum class Enumeration\n\t\t{\n\t\tVal1,\n\t\tVal2,\n\t\tVal3 = 100,\n\t\tVal4 /* = 101 */,\n\t\t};\n\n此种枚举为类型安全的。枚举类型不能隐式地转换为整数；也无法与整数数值做比较。\n枚举类型的语汇范围(scoping)定义于枚举类型的名称范围中。为了兼容性，也可以在一般范围内使用。\n\n#### 线程\n\n\n\n#### 智能指针\nshared_ptr\nunique_ptr","source":"_posts/c-11-introduce.md","raw":"---\ntitle: c++11特性简介\ndate: 2016-12-04 01:10:03\ntags:\ncategories: C++11\n---\n#### 右值引用&& 移动语义（std::move）\nC++在用临时对象或函数返回值给左值对象赋值时的深度拷贝，会影响执行效率。\n考虑到临时对象的生命期仅在表达式中持续，如果把临时对象的内容直接移动（move）给被赋值的左值对象，效率改善将是显著的。\n\n总结：消除两个对象交互时不必要的对象拷贝，节省运算存储资源，提高效率。\n<!--more-->\n#### 初始化列表initializer_list\n一个initializer_list当出现在以下两种情况的被自动构造：\n\n- 当初始化的时候使用的是大括号初始化，被自动构造。包括函数调用时和赋值\n- 当涉及到for（initializer： list）,list被自动构造成initializer_list对象\n\n也就是说initializer_list对象只能用大括号{}初始化。\n拷贝一个initializer_list对象并不会拷贝里面的元素。其实只是引用而已。而且里面的元素全部都是const的。\n**方便了STL中容器的初始化。**\n\n#### emplace_back减少内存拷贝和移动\nemplace_back能就地通过参数构造对象，不需要拷贝或者移动内存，相比push_back能更好地避免内存的拷贝与移动，使容器插入元素的性能得到进一步提升。\n\n#### lambda表达式\nlambda 表达式可以方便地构造匿名函数\nC++11 的 lambda 表达式规范如下：\n        \\[ capture ] ( params ) mutable exception attribute -> ret { body }(1) \n        \\[ capture ] ( params ) -> ret { body }(2) \n        \\[ capture ] ( params ) { body }(3) \n        \\[ capture ] { body }(4) \n其中,\n\t* (1) 是完整的 lambda 表达式形式，\n\t* (2) const 类型的 lambda 表达式，该类型的表达式不能改捕获(\"capture\")列表中的值。\n\t* (3)省略了返回值类型的 lambda 表达式，但是该 lambda 表达式的返回类型可以按照下列规则推演出来：\n\t* \n\t\t* 如果 lambda 代码块中包含了 return 语句，则该 lambda 表达式的返回类型由 return 语句的返回类型确定。\n\t\t* 如果没有 return 语句，则类似 void f(...) 函数。\n\n\t* 省略了参数列表，类似于无参函数 f()。\n\n\n**capture指定了在可见域范围内 lambda 表达式的代码内可见得外部变量的列表，具体解释如下**\n\t* [] 什么也没有捕获\n\t* [a, &b] 按值捕获a，按引用捕获b\n\t* [&] 按引用捕获任何用到的外部变量\n\t* [=] 按值捕获任何用到的外部变量\n\t* [a, &] 按值捕获a, 其它的变量按引用捕获\n\t* [&b, =] 按引用捕获b,其它的变量按值捕获\n\t* [this] 按值捕获this指针\n\n#### 强类型枚举（枚举类）\n普通枚举的缺点：\n- 枚举类型不是类型安全的。两种不同的枚举类型之间可以进行比较。\n- 两个不同的枚举，不可以有相同的枚举名。\n\n\t\tenum class Enumeration\n\t\t{\n\t\tVal1,\n\t\tVal2,\n\t\tVal3 = 100,\n\t\tVal4 /* = 101 */,\n\t\t};\n\n此种枚举为类型安全的。枚举类型不能隐式地转换为整数；也无法与整数数值做比较。\n枚举类型的语汇范围(scoping)定义于枚举类型的名称范围中。为了兼容性，也可以在一般范围内使用。\n\n#### 线程\n\n\n\n#### 智能指针\nshared_ptr\nunique_ptr","slug":"c-11-introduce","published":1,"updated":"2016-12-05T06:02:01.420Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwzll00012sv0p70hzawr","content":"<h4 id=\"&#x53F3;&#x503C;&#x5F15;&#x7528;-amp-amp-&#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std-move&#xFF09;\"><a href=\"#&#x53F3;&#x503C;&#x5F15;&#x7528;-amp-amp-&#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std-move&#xFF09;\" class=\"headerlink\" title=\"&#x53F3;&#x503C;&#x5F15;&#x7528;&amp;&amp; &#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std::move&#xFF09;\"></a>&#x53F3;&#x503C;&#x5F15;&#x7528;&amp;&amp; &#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std::move&#xFF09;</h4><p>C++&#x5728;&#x7528;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x6216;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x7ED9;&#x5DE6;&#x503C;&#x5BF9;&#x8C61;&#x8D4B;&#x503C;&#x65F6;&#x7684;&#x6DF1;&#x5EA6;&#x62F7;&#x8D1D;&#xFF0C;&#x4F1A;&#x5F71;&#x54CD;&#x6267;&#x884C;&#x6548;&#x7387;&#x3002;<br>&#x8003;&#x8651;&#x5230;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x671F;&#x4EC5;&#x5728;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x6301;&#x7EED;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5BB9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#xFF08;move&#xFF09;&#x7ED9;&#x88AB;&#x8D4B;&#x503C;&#x7684;&#x5DE6;&#x503C;&#x5BF9;&#x8C61;&#xFF0C;&#x6548;&#x7387;&#x6539;&#x5584;&#x5C06;&#x662F;&#x663E;&#x8457;&#x7684;&#x3002;</p>\n<p>&#x603B;&#x7ED3;&#xFF1A;&#x6D88;&#x9664;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x4EA4;&#x4E92;&#x65F6;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x62F7;&#x8D1D;&#xFF0C;&#x8282;&#x7701;&#x8FD0;&#x7B97;&#x5B58;&#x50A8;&#x8D44;&#x6E90;&#xFF0C;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x3002;<br><a id=\"more\"></a></p>\n<h4 id=\"&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer-list\"><a href=\"#&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer-list\" class=\"headerlink\" title=\"&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer_list\"></a>&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer_list</h4><p>&#x4E00;&#x4E2A;initializer_list&#x5F53;&#x51FA;&#x73B0;&#x5728;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x88AB;&#x81EA;&#x52A8;&#x6784;&#x9020;&#xFF1A;</p>\n<ul>\n<li>&#x5F53;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5927;&#x62EC;&#x53F7;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x88AB;&#x81EA;&#x52A8;&#x6784;&#x9020;&#x3002;&#x5305;&#x62EC;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#x548C;&#x8D4B;&#x503C;</li>\n<li>&#x5F53;&#x6D89;&#x53CA;&#x5230;for&#xFF08;initializer&#xFF1A; list&#xFF09;,list&#x88AB;&#x81EA;&#x52A8;&#x6784;&#x9020;&#x6210;initializer_list&#x5BF9;&#x8C61;</li>\n</ul>\n<p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;initializer_list&#x5BF9;&#x8C61;&#x53EA;&#x80FD;&#x7528;&#x5927;&#x62EC;&#x53F7;{}&#x521D;&#x59CB;&#x5316;&#x3002;<br>&#x62F7;&#x8D1D;&#x4E00;&#x4E2A;initializer_list&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x4F1A;&#x62F7;&#x8D1D;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x3002;&#x5176;&#x5B9E;&#x53EA;&#x662F;&#x5F15;&#x7528;&#x800C;&#x5DF2;&#x3002;&#x800C;&#x4E14;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x5168;&#x90E8;&#x90FD;&#x662F;const&#x7684;&#x3002;<br><strong>&#x65B9;&#x4FBF;&#x4E86;STL&#x4E2D;&#x5BB9;&#x5668;&#x7684;&#x521D;&#x59CB;&#x5316;&#x3002;</strong></p>\n<h4 id=\"emplace-back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;\"><a href=\"#emplace-back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;\" class=\"headerlink\" title=\"emplace_back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;\"></a>emplace_back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;</h4><p>emplace_back&#x80FD;&#x5C31;&#x5730;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x6784;&#x9020;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x62F7;&#x8D1D;&#x6216;&#x8005;&#x79FB;&#x52A8;&#x5185;&#x5B58;&#xFF0C;&#x76F8;&#x6BD4;push_back&#x80FD;&#x66F4;&#x597D;&#x5730;&#x907F;&#x514D;&#x5185;&#x5B58;&#x7684;&#x62F7;&#x8D1D;&#x4E0E;&#x79FB;&#x52A8;&#xFF0C;&#x4F7F;&#x5BB9;&#x5668;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x7684;&#x6027;&#x80FD;&#x5F97;&#x5230;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x5347;&#x3002;</p>\n<h4 id=\"lambda&#x8868;&#x8FBE;&#x5F0F;\"><a href=\"#lambda&#x8868;&#x8FBE;&#x5F0F;\" class=\"headerlink\" title=\"lambda&#x8868;&#x8FBE;&#x5F0F;\"></a>lambda&#x8868;&#x8FBE;&#x5F0F;</h4><p>lambda &#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x6784;&#x9020;&#x533F;&#x540D;&#x51FD;&#x6570;<br>C++11 &#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#x89C4;&#x8303;&#x5982;&#x4E0B;&#xFF1A;<br>        [ capture ] ( params ) mutable exception attribute -&gt; ret { body }(1)<br>        [ capture ] ( params ) -&gt; ret { body }(2)<br>        [ capture ] ( params ) { body }(3)<br>        [ capture ] { body }(4)<br>&#x5176;&#x4E2D;,</p>\n<pre><code>* (1) &#x662F;&#x5B8C;&#x6574;&#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#x5F62;&#x5F0F;&#xFF0C;\n* (2) const &#x7C7B;&#x578B;&#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4E0D;&#x80FD;&#x6539;&#x6355;&#x83B7;(&quot;capture&quot;)&#x5217;&#x8868;&#x4E2D;&#x7684;&#x503C;&#x3002;\n* (3)&#x7701;&#x7565;&#x4E86;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x8BE5; lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E0B;&#x5217;&#x89C4;&#x5219;&#x63A8;&#x6F14;&#x51FA;&#x6765;&#xFF1A;\n* \n    * &#x5982;&#x679C; lambda &#x4EE3;&#x7801;&#x5757;&#x4E2D;&#x5305;&#x542B;&#x4E86; return &#x8BED;&#x53E5;&#xFF0C;&#x5219;&#x8BE5; lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x7531; return &#x8BED;&#x53E5;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x786E;&#x5B9A;&#x3002;\n    * &#x5982;&#x679C;&#x6CA1;&#x6709; return &#x8BED;&#x53E5;&#xFF0C;&#x5219;&#x7C7B;&#x4F3C; void f(...) &#x51FD;&#x6570;&#x3002;\n\n* &#x7701;&#x7565;&#x4E86;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x65E0;&#x53C2;&#x51FD;&#x6570; f()&#x3002;\n</code></pre><p><strong>capture&#x6307;&#x5B9A;&#x4E86;&#x5728;&#x53EF;&#x89C1;&#x57DF;&#x8303;&#x56F4;&#x5185; lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x53EF;&#x89C1;&#x5F97;&#x5916;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5177;&#x4F53;&#x89E3;&#x91CA;&#x5982;&#x4E0B;</strong></p>\n<pre><code>* [] &#x4EC0;&#x4E48;&#x4E5F;&#x6CA1;&#x6709;&#x6355;&#x83B7;\n* [a, &amp;b] &#x6309;&#x503C;&#x6355;&#x83B7;a&#xFF0C;&#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;b\n* [&amp;] &#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;&#x4EFB;&#x4F55;&#x7528;&#x5230;&#x7684;&#x5916;&#x90E8;&#x53D8;&#x91CF;\n* [=] &#x6309;&#x503C;&#x6355;&#x83B7;&#x4EFB;&#x4F55;&#x7528;&#x5230;&#x7684;&#x5916;&#x90E8;&#x53D8;&#x91CF;\n* [a, &amp;] &#x6309;&#x503C;&#x6355;&#x83B7;a, &#x5176;&#x5B83;&#x7684;&#x53D8;&#x91CF;&#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;\n* [&amp;b, =] &#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;b,&#x5176;&#x5B83;&#x7684;&#x53D8;&#x91CF;&#x6309;&#x503C;&#x6355;&#x83B7;\n* [this] &#x6309;&#x503C;&#x6355;&#x83B7;this&#x6307;&#x9488;\n</code></pre><h4 id=\"&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;\"><a href=\"#&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;\" class=\"headerlink\" title=\"&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;\"></a>&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;</h4><p>&#x666E;&#x901A;&#x679A;&#x4E3E;&#x7684;&#x7F3A;&#x70B9;&#xFF1A;</p>\n<ul>\n<li>&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x4E0D;&#x662F;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x3002;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</li>\n<li><p>&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x679A;&#x4E3E;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x679A;&#x4E3E;&#x540D;&#x3002;</p>\n<pre><code>enum class Enumeration\n{\nVal1,\nVal2,\nVal3 = 100,\nVal4 /* = 101 */,\n};\n</code></pre></li>\n</ul>\n<p>&#x6B64;&#x79CD;&#x679A;&#x4E3E;&#x4E3A;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x3002;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x4E0D;&#x80FD;&#x9690;&#x5F0F;&#x5730;&#x8F6C;&#x6362;&#x4E3A;&#x6574;&#x6570;&#xFF1B;&#x4E5F;&#x65E0;&#x6CD5;&#x4E0E;&#x6574;&#x6570;&#x6570;&#x503C;&#x505A;&#x6BD4;&#x8F83;&#x3002;<br>&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x6C47;&#x8303;&#x56F4;(scoping)&#x5B9A;&#x4E49;&#x4E8E;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x540D;&#x79F0;&#x8303;&#x56F4;&#x4E2D;&#x3002;&#x4E3A;&#x4E86;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x822C;&#x8303;&#x56F4;&#x5185;&#x4F7F;&#x7528;&#x3002;</p>\n<h4 id=\"&#x7EBF;&#x7A0B;\"><a href=\"#&#x7EBF;&#x7A0B;\" class=\"headerlink\" title=\"&#x7EBF;&#x7A0B;\"></a>&#x7EBF;&#x7A0B;</h4><h4 id=\"&#x667A;&#x80FD;&#x6307;&#x9488;\"><a href=\"#&#x667A;&#x80FD;&#x6307;&#x9488;\" class=\"headerlink\" title=\"&#x667A;&#x80FD;&#x6307;&#x9488;\"></a>&#x667A;&#x80FD;&#x6307;&#x9488;</h4><p>shared_ptr<br>unique_ptr</p>\n","excerpt":"<h4 id=\"&#x53F3;&#x503C;&#x5F15;&#x7528;-amp-amp-&#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std-move&#xFF09;\"><a href=\"#&#x53F3;&#x503C;&#x5F15;&#x7528;-amp-amp-&#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std-move&#xFF09;\" class=\"headerlink\" title=\"&#x53F3;&#x503C;&#x5F15;&#x7528;&amp;&amp; &#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std::move&#xFF09;\"></a>&#x53F3;&#x503C;&#x5F15;&#x7528;&amp;&amp; &#x79FB;&#x52A8;&#x8BED;&#x4E49;&#xFF08;std::move&#xFF09;</h4><p>C++&#x5728;&#x7528;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x6216;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x503C;&#x7ED9;&#x5DE6;&#x503C;&#x5BF9;&#x8C61;&#x8D4B;&#x503C;&#x65F6;&#x7684;&#x6DF1;&#x5EA6;&#x62F7;&#x8D1D;&#xFF0C;&#x4F1A;&#x5F71;&#x54CD;&#x6267;&#x884C;&#x6548;&#x7387;&#x3002;<br>&#x8003;&#x8651;&#x5230;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x671F;&#x4EC5;&#x5728;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x6301;&#x7EED;&#xFF0C;&#x5982;&#x679C;&#x628A;&#x4E34;&#x65F6;&#x5BF9;&#x8C61;&#x7684;&#x5185;&#x5BB9;&#x76F4;&#x63A5;&#x79FB;&#x52A8;&#xFF08;move&#xFF09;&#x7ED9;&#x88AB;&#x8D4B;&#x503C;&#x7684;&#x5DE6;&#x503C;&#x5BF9;&#x8C61;&#xFF0C;&#x6548;&#x7387;&#x6539;&#x5584;&#x5C06;&#x662F;&#x663E;&#x8457;&#x7684;&#x3002;</p>\n<p>&#x603B;&#x7ED3;&#xFF1A;&#x6D88;&#x9664;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61;&#x4EA4;&#x4E92;&#x65F6;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5BF9;&#x8C61;&#x62F7;&#x8D1D;&#xFF0C;&#x8282;&#x7701;&#x8FD0;&#x7B97;&#x5B58;&#x50A8;&#x8D44;&#x6E90;&#xFF0C;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x3002;<br></p>","more":"<p></p>\n<h4 id=\"&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer-list\"><a href=\"#&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer-list\" class=\"headerlink\" title=\"&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer_list\"></a>&#x521D;&#x59CB;&#x5316;&#x5217;&#x8868;initializer_list</h4><p>&#x4E00;&#x4E2A;initializer_list&#x5F53;&#x51FA;&#x73B0;&#x5728;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x7684;&#x88AB;&#x81EA;&#x52A8;&#x6784;&#x9020;&#xFF1A;</p>\n<ul>\n<li>&#x5F53;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5927;&#x62EC;&#x53F7;&#x521D;&#x59CB;&#x5316;&#xFF0C;&#x88AB;&#x81EA;&#x52A8;&#x6784;&#x9020;&#x3002;&#x5305;&#x62EC;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x65F6;&#x548C;&#x8D4B;&#x503C;</li>\n<li>&#x5F53;&#x6D89;&#x53CA;&#x5230;for&#xFF08;initializer&#xFF1A; list&#xFF09;,list&#x88AB;&#x81EA;&#x52A8;&#x6784;&#x9020;&#x6210;initializer_list&#x5BF9;&#x8C61;</li>\n</ul>\n<p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;initializer_list&#x5BF9;&#x8C61;&#x53EA;&#x80FD;&#x7528;&#x5927;&#x62EC;&#x53F7;{}&#x521D;&#x59CB;&#x5316;&#x3002;<br>&#x62F7;&#x8D1D;&#x4E00;&#x4E2A;initializer_list&#x5BF9;&#x8C61;&#x5E76;&#x4E0D;&#x4F1A;&#x62F7;&#x8D1D;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x3002;&#x5176;&#x5B9E;&#x53EA;&#x662F;&#x5F15;&#x7528;&#x800C;&#x5DF2;&#x3002;&#x800C;&#x4E14;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x5168;&#x90E8;&#x90FD;&#x662F;const&#x7684;&#x3002;<br><strong>&#x65B9;&#x4FBF;&#x4E86;STL&#x4E2D;&#x5BB9;&#x5668;&#x7684;&#x521D;&#x59CB;&#x5316;&#x3002;</strong></p>\n<h4 id=\"emplace-back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;\"><a href=\"#emplace-back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;\" class=\"headerlink\" title=\"emplace_back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;\"></a>emplace_back&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x62F7;&#x8D1D;&#x548C;&#x79FB;&#x52A8;</h4><p>emplace_back&#x80FD;&#x5C31;&#x5730;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x6784;&#x9020;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x62F7;&#x8D1D;&#x6216;&#x8005;&#x79FB;&#x52A8;&#x5185;&#x5B58;&#xFF0C;&#x76F8;&#x6BD4;push_back&#x80FD;&#x66F4;&#x597D;&#x5730;&#x907F;&#x514D;&#x5185;&#x5B58;&#x7684;&#x62F7;&#x8D1D;&#x4E0E;&#x79FB;&#x52A8;&#xFF0C;&#x4F7F;&#x5BB9;&#x5668;&#x63D2;&#x5165;&#x5143;&#x7D20;&#x7684;&#x6027;&#x80FD;&#x5F97;&#x5230;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x5347;&#x3002;</p>\n<h4 id=\"lambda&#x8868;&#x8FBE;&#x5F0F;\"><a href=\"#lambda&#x8868;&#x8FBE;&#x5F0F;\" class=\"headerlink\" title=\"lambda&#x8868;&#x8FBE;&#x5F0F;\"></a>lambda&#x8868;&#x8FBE;&#x5F0F;</h4><p>lambda &#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x6784;&#x9020;&#x533F;&#x540D;&#x51FD;&#x6570;<br>C++11 &#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#x89C4;&#x8303;&#x5982;&#x4E0B;&#xFF1A;<br>        [ capture ] ( params ) mutable exception attribute -&gt; ret { body }(1)<br>        [ capture ] ( params ) -&gt; ret { body }(2)<br>        [ capture ] ( params ) { body }(3)<br>        [ capture ] { body }(4)<br>&#x5176;&#x4E2D;,</p>\n<pre><code>* (1) &#x662F;&#x5B8C;&#x6574;&#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#x5F62;&#x5F0F;&#xFF0C;\n* (2) const &#x7C7B;&#x578B;&#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8BE5;&#x7C7B;&#x578B;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4E0D;&#x80FD;&#x6539;&#x6355;&#x83B7;(&quot;capture&quot;)&#x5217;&#x8868;&#x4E2D;&#x7684;&#x503C;&#x3002;\n* (3)&#x7701;&#x7565;&#x4E86;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x7684; lambda &#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x8BE5; lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E0B;&#x5217;&#x89C4;&#x5219;&#x63A8;&#x6F14;&#x51FA;&#x6765;&#xFF1A;\n* \n    * &#x5982;&#x679C; lambda &#x4EE3;&#x7801;&#x5757;&#x4E2D;&#x5305;&#x542B;&#x4E86; return &#x8BED;&#x53E5;&#xFF0C;&#x5219;&#x8BE5; lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x7531; return &#x8BED;&#x53E5;&#x7684;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x786E;&#x5B9A;&#x3002;\n    * &#x5982;&#x679C;&#x6CA1;&#x6709; return &#x8BED;&#x53E5;&#xFF0C;&#x5219;&#x7C7B;&#x4F3C; void f(...) &#x51FD;&#x6570;&#x3002;\n\n* &#x7701;&#x7565;&#x4E86;&#x53C2;&#x6570;&#x5217;&#x8868;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x65E0;&#x53C2;&#x51FD;&#x6570; f()&#x3002;\n</code></pre><p><strong>capture&#x6307;&#x5B9A;&#x4E86;&#x5728;&#x53EF;&#x89C1;&#x57DF;&#x8303;&#x56F4;&#x5185; lambda &#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x53EF;&#x89C1;&#x5F97;&#x5916;&#x90E8;&#x53D8;&#x91CF;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5177;&#x4F53;&#x89E3;&#x91CA;&#x5982;&#x4E0B;</strong></p>\n<pre><code>* [] &#x4EC0;&#x4E48;&#x4E5F;&#x6CA1;&#x6709;&#x6355;&#x83B7;\n* [a, &amp;b] &#x6309;&#x503C;&#x6355;&#x83B7;a&#xFF0C;&#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;b\n* [&amp;] &#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;&#x4EFB;&#x4F55;&#x7528;&#x5230;&#x7684;&#x5916;&#x90E8;&#x53D8;&#x91CF;\n* [=] &#x6309;&#x503C;&#x6355;&#x83B7;&#x4EFB;&#x4F55;&#x7528;&#x5230;&#x7684;&#x5916;&#x90E8;&#x53D8;&#x91CF;\n* [a, &amp;] &#x6309;&#x503C;&#x6355;&#x83B7;a, &#x5176;&#x5B83;&#x7684;&#x53D8;&#x91CF;&#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;\n* [&amp;b, =] &#x6309;&#x5F15;&#x7528;&#x6355;&#x83B7;b,&#x5176;&#x5B83;&#x7684;&#x53D8;&#x91CF;&#x6309;&#x503C;&#x6355;&#x83B7;\n* [this] &#x6309;&#x503C;&#x6355;&#x83B7;this&#x6307;&#x9488;\n</code></pre><h4 id=\"&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;\"><a href=\"#&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;\" class=\"headerlink\" title=\"&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;\"></a>&#x5F3A;&#x7C7B;&#x578B;&#x679A;&#x4E3E;&#xFF08;&#x679A;&#x4E3E;&#x7C7B;&#xFF09;</h4><p>&#x666E;&#x901A;&#x679A;&#x4E3E;&#x7684;&#x7F3A;&#x70B9;&#xFF1A;</p>\n<ul>\n<li>&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x4E0D;&#x662F;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x3002;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002;</li>\n<li><p>&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x679A;&#x4E3E;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x6709;&#x76F8;&#x540C;&#x7684;&#x679A;&#x4E3E;&#x540D;&#x3002;</p>\n<pre><code>enum class Enumeration\n{\nVal1,\nVal2,\nVal3 = 100,\nVal4 /* = 101 */,\n};\n</code></pre></li>\n</ul>\n<p>&#x6B64;&#x79CD;&#x679A;&#x4E3E;&#x4E3A;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x3002;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x4E0D;&#x80FD;&#x9690;&#x5F0F;&#x5730;&#x8F6C;&#x6362;&#x4E3A;&#x6574;&#x6570;&#xFF1B;&#x4E5F;&#x65E0;&#x6CD5;&#x4E0E;&#x6574;&#x6570;&#x6570;&#x503C;&#x505A;&#x6BD4;&#x8F83;&#x3002;<br>&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x6C47;&#x8303;&#x56F4;(scoping)&#x5B9A;&#x4E49;&#x4E8E;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#x7684;&#x540D;&#x79F0;&#x8303;&#x56F4;&#x4E2D;&#x3002;&#x4E3A;&#x4E86;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x822C;&#x8303;&#x56F4;&#x5185;&#x4F7F;&#x7528;&#x3002;</p>\n<h4 id=\"&#x7EBF;&#x7A0B;\"><a href=\"#&#x7EBF;&#x7A0B;\" class=\"headerlink\" title=\"&#x7EBF;&#x7A0B;\"></a>&#x7EBF;&#x7A0B;</h4><h4 id=\"&#x667A;&#x80FD;&#x6307;&#x9488;\"><a href=\"#&#x667A;&#x80FD;&#x6307;&#x9488;\" class=\"headerlink\" title=\"&#x667A;&#x80FD;&#x6307;&#x9488;\"></a>&#x667A;&#x80FD;&#x6307;&#x9488;</h4><p>shared_ptr<br>unique_ptr</p>"},{"title":"汉诺塔","date":"2016-12-04T05:43:10.000Z","_content":"#### 递归实现\n```c\n        //从x,借助y，到z\n        void move(int n, char x, char y, char z)\n        {\n            if (1 == n)\n            {\n                printf(\"%c --> %c\\n\", x,z); //把最下面的一个从x到z\n            }\n            else\n            {\n                move(n - 1, x, z, y);     //先把上面n-1从x，借助z，到y\n                printf(\"%c --> %c\\n\", x, z);\n                move(n - 1, y, x, z); //再把n-1，从y，借助x， 到z\n            }\n        }\n        \n        move(3, 'x', 'y', 'z');\n```","source":"_posts/han-nuo-ta.md","raw":"---\ntitle: 汉诺塔\ndate: 2016-12-04 13:43:10\ntags:\ncategories: 算法\n---\n#### 递归实现\n```c\n        //从x,借助y，到z\n        void move(int n, char x, char y, char z)\n        {\n            if (1 == n)\n            {\n                printf(\"%c --> %c\\n\", x,z); //把最下面的一个从x到z\n            }\n            else\n            {\n                move(n - 1, x, z, y);     //先把上面n-1从x，借助z，到y\n                printf(\"%c --> %c\\n\", x, z);\n                move(n - 1, y, x, z); //再把n-1，从y，借助x， 到z\n            }\n        }\n        \n        move(3, 'x', 'y', 'z');\n```","slug":"han-nuo-ta","published":1,"updated":"2016-12-04T06:08:26.105Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwzly00032sv0izt505zb","content":"<h4 id=\"&#x9012;&#x5F52;&#x5B9E;&#x73B0;\"><a href=\"#&#x9012;&#x5F52;&#x5B9E;&#x73B0;\" class=\"headerlink\" title=\"&#x9012;&#x5F52;&#x5B9E;&#x73B0;\"></a>&#x9012;&#x5F52;&#x5B9E;&#x73B0;</h4><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//&#x4ECE;x,&#x501F;&#x52A9;y&#xFF0C;&#x5230;z</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">move</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">char</span> x, <span class=\"keyword\">char</span> y, <span class=\"keyword\">char</span> z)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">1</span> == n)</div><div class=\"line\">    {</div><div class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c --&gt; %c\\n&quot;</span>, x,z); <span class=\"comment\">//&#x628A;&#x6700;&#x4E0B;&#x9762;&#x7684;&#x4E00;&#x4E2A;&#x4ECE;x&#x5230;z</span></div><div class=\"line\">    }</div><div class=\"line\">    <span class=\"keyword\">else</span></div><div class=\"line\">    {</div><div class=\"line\">        move(n - <span class=\"number\">1</span>, x, z, y);     <span class=\"comment\">//&#x5148;&#x628A;&#x4E0A;&#x9762;n-1&#x4ECE;x&#xFF0C;&#x501F;&#x52A9;z&#xFF0C;&#x5230;y</span></div><div class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c --&gt; %c\\n&quot;</span>, x, z);</div><div class=\"line\">        move(n - <span class=\"number\">1</span>, y, x, z); <span class=\"comment\">//&#x518D;&#x628A;n-1&#xFF0C;&#x4ECE;y&#xFF0C;&#x501F;&#x52A9;x&#xFF0C; &#x5230;z</span></div><div class=\"line\">    }</div><div class=\"line\">}</div><div class=\"line\"></div><div class=\"line\">move(<span class=\"number\">3</span>, <span class=\"string\">&apos;x&apos;</span>, <span class=\"string\">&apos;y&apos;</span>, <span class=\"string\">&apos;z&apos;</span>);</div></pre></td></tr></table></figure>","excerpt":"","more":"<h4 id=\"&#x9012;&#x5F52;&#x5B9E;&#x73B0;\"><a href=\"#&#x9012;&#x5F52;&#x5B9E;&#x73B0;\" class=\"headerlink\" title=\"&#x9012;&#x5F52;&#x5B9E;&#x73B0;\"></a>&#x9012;&#x5F52;&#x5B9E;&#x73B0;</h4><figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//&#x4ECE;x,&#x501F;&#x52A9;y&#xFF0C;&#x5230;z</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">move</span><span class=\"params\">(<span class=\"keyword\">int</span> n, <span class=\"keyword\">char</span> x, <span class=\"keyword\">char</span> y, <span class=\"keyword\">char</span> z)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"number\">1</span> == n)</div><div class=\"line\">    {</div><div class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c --&gt; %c\\n&quot;</span>, x,z); <span class=\"comment\">//&#x628A;&#x6700;&#x4E0B;&#x9762;&#x7684;&#x4E00;&#x4E2A;&#x4ECE;x&#x5230;z</span></div><div class=\"line\">    }</div><div class=\"line\">    <span class=\"keyword\">else</span></div><div class=\"line\">    {</div><div class=\"line\">        move(n - <span class=\"number\">1</span>, x, z, y);     <span class=\"comment\">//&#x5148;&#x628A;&#x4E0A;&#x9762;n-1&#x4ECE;x&#xFF0C;&#x501F;&#x52A9;z&#xFF0C;&#x5230;y</span></div><div class=\"line\">        <span class=\"built_in\">printf</span>(<span class=\"string\">&quot;%c --&gt; %c\\n&quot;</span>, x, z);</div><div class=\"line\">        move(n - <span class=\"number\">1</span>, y, x, z); <span class=\"comment\">//&#x518D;&#x628A;n-1&#xFF0C;&#x4ECE;y&#xFF0C;&#x501F;&#x52A9;x&#xFF0C; &#x5230;z</span></div><div class=\"line\">    }</div><div class=\"line\">}</div><div class=\"line\"></div><div class=\"line\">move(<span class=\"number\">3</span>, <span class=\"string\">&apos;x&apos;</span>, <span class=\"string\">&apos;y&apos;</span>, <span class=\"string\">&apos;z&apos;</span>);</div></pre></td></tr></table></figure>"},{"title":"JJ笔试题","date":"2016-12-07T12:55:03.000Z","_content":"### 基础类型，以及大小\n- char(unsigned char)       1\n- short int (unsigned short int)                2                \n- int(unsigned int)　4\n- long int   4\n- long long  8\n- float   4\n- double  8\n- bool 1\n\n### 内存对齐\n```c++\n        typedef struct ss\n        {\n            char a;\n            char b;\n            long int c;\n        }ss;\n\n        //sizeof(ss) = (1+1+补齐2) + 4 = 8\n```\n\n### 进程和线程的联系和区别\n#### 联系\n- 都是实现多任务并发的手段\n- 子进程（线程）的调度一般与父进程（线程）平等竞争\n\n#### 区别\n- 进程是资源分配的基本单位，线程是调度的基本单位\n- 进程间的通信方式：共享内存，消息队列，信号量，有名管道，无名管道，信号，文件，socket\n线程间通信方式，上述进程间的通信方式都可以沿用，另外还有自己的独特的几种：互斥量，自旋锁，条件变量，读写锁，线程信号，全局变量\n- 速度上的区别：  \n进程间通信可能会需要切换内核上下文，可能会与外设访问，速度会比较慢。  \n而线程都是在进程空间内通信，速度会比较快。\n\n### memmove\n```c++\n        void* memmove(void* dst, const void* src, size_t n)\n        {\n            char* tmp_dst;\n            const char* tmp_src;\n\n            if (dst <= src)\n            {\n                tmp_dst = (char*)dst;\n                tmp_src = (const char*)src;\n                while (n--)\n                    *tmp_dst++ = *tmp_src++;\n            }\n            else //dst > src,要从末尾开始复制\n            {\n                tmp_dst = (char*)dst + n;\n                tmp_src = (const char*)src + n;\n\n                while (n--)\n                    *--tmp_dst = *--tmp_src;\n            }\n\n            return tmp_dst;\n        }\n```\n\n### new/delete和malloc/free联系和区别\n#### 不同点\n- malloc/free是标准库函数，new/delete是运算符\n  new/delete可以在对象创建的同时自动执行构造函数，在对象消亡时自动执行析构函数。\n\n#### 相同点\n\n","source":"_posts/mian-shi-1.md","raw":"---\ntitle: JJ笔试题\ndate: 2016-12-07 20:55:03\ntags:\ncategories: 笔试题\n---\n### 基础类型，以及大小\n- char(unsigned char)       1\n- short int (unsigned short int)                2                \n- int(unsigned int)　4\n- long int   4\n- long long  8\n- float   4\n- double  8\n- bool 1\n\n### 内存对齐\n```c++\n        typedef struct ss\n        {\n            char a;\n            char b;\n            long int c;\n        }ss;\n\n        //sizeof(ss) = (1+1+补齐2) + 4 = 8\n```\n\n### 进程和线程的联系和区别\n#### 联系\n- 都是实现多任务并发的手段\n- 子进程（线程）的调度一般与父进程（线程）平等竞争\n\n#### 区别\n- 进程是资源分配的基本单位，线程是调度的基本单位\n- 进程间的通信方式：共享内存，消息队列，信号量，有名管道，无名管道，信号，文件，socket\n线程间通信方式，上述进程间的通信方式都可以沿用，另外还有自己的独特的几种：互斥量，自旋锁，条件变量，读写锁，线程信号，全局变量\n- 速度上的区别：  \n进程间通信可能会需要切换内核上下文，可能会与外设访问，速度会比较慢。  \n而线程都是在进程空间内通信，速度会比较快。\n\n### memmove\n```c++\n        void* memmove(void* dst, const void* src, size_t n)\n        {\n            char* tmp_dst;\n            const char* tmp_src;\n\n            if (dst <= src)\n            {\n                tmp_dst = (char*)dst;\n                tmp_src = (const char*)src;\n                while (n--)\n                    *tmp_dst++ = *tmp_src++;\n            }\n            else //dst > src,要从末尾开始复制\n            {\n                tmp_dst = (char*)dst + n;\n                tmp_src = (const char*)src + n;\n\n                while (n--)\n                    *--tmp_dst = *--tmp_src;\n            }\n\n            return tmp_dst;\n        }\n```\n\n### new/delete和malloc/free联系和区别\n#### 不同点\n- malloc/free是标准库函数，new/delete是运算符\n  new/delete可以在对象创建的同时自动执行构造函数，在对象消亡时自动执行析构函数。\n\n#### 相同点\n\n","slug":"mian-shi-1","published":1,"updated":"2016-12-08T01:48:04.760Z","_id":"ciwflwzm300042sv088yuw47m","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;\"><a href=\"#&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;\" class=\"headerlink\" title=\"&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;\"></a>&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;</h3><ul>\n<li>char(unsigned char)       1</li>\n<li>short int (unsigned short int)                2                </li>\n<li>int(unsigned int)&#x3000;4</li>\n<li>long int   4</li>\n<li>long long  8</li>\n<li>float   4</li>\n<li>double  8</li>\n<li>bool 1</li>\n</ul>\n<h3 id=\"&#x5185;&#x5B58;&#x5BF9;&#x9F50;\"><a href=\"#&#x5185;&#x5B58;&#x5BF9;&#x9F50;\" class=\"headerlink\" title=\"&#x5185;&#x5B58;&#x5BF9;&#x9F50;\"></a>&#x5185;&#x5B58;&#x5BF9;&#x9F50;</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> ss</div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">char</span> a;</div><div class=\"line\">    <span class=\"keyword\">char</span> b;</div><div class=\"line\">    <span class=\"keyword\">long</span> <span class=\"keyword\">int</span> c;</div><div class=\"line\">}ss;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//sizeof(ss) = (1+1+&#x8865;&#x9F50;2) + 4 = 8</span></div></pre></td></tr></table></figure>\n<h3 id=\"&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"><a href=\"#&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\" class=\"headerlink\" title=\"&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"></a>&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;</h3><h4 id=\"&#x8054;&#x7CFB;\"><a href=\"#&#x8054;&#x7CFB;\" class=\"headerlink\" title=\"&#x8054;&#x7CFB;\"></a>&#x8054;&#x7CFB;</h4><ul>\n<li>&#x90FD;&#x662F;&#x5B9E;&#x73B0;&#x591A;&#x4EFB;&#x52A1;&#x5E76;&#x53D1;&#x7684;&#x624B;&#x6BB5;</li>\n<li>&#x5B50;&#x8FDB;&#x7A0B;&#xFF08;&#x7EBF;&#x7A0B;&#xFF09;&#x7684;&#x8C03;&#x5EA6;&#x4E00;&#x822C;&#x4E0E;&#x7236;&#x8FDB;&#x7A0B;&#xFF08;&#x7EBF;&#x7A0B;&#xFF09;&#x5E73;&#x7B49;&#x7ADE;&#x4E89;</li>\n</ul>\n<h4 id=\"&#x533A;&#x522B;\"><a href=\"#&#x533A;&#x522B;\" class=\"headerlink\" title=\"&#x533A;&#x522B;\"></a>&#x533A;&#x522B;</h4><ul>\n<li>&#x8FDB;&#x7A0B;&#x662F;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#xFF0C;&#x7EBF;&#x7A0B;&#x662F;&#x8C03;&#x5EA6;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;</li>\n<li>&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF1A;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#xFF0C;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C;&#x4FE1;&#x53F7;&#x91CF;&#xFF0C;&#x6709;&#x540D;&#x7BA1;&#x9053;&#xFF0C;&#x65E0;&#x540D;&#x7BA1;&#x9053;&#xFF0C;&#x4FE1;&#x53F7;&#xFF0C;&#x6587;&#x4EF6;&#xFF0C;socket<br>&#x7EBF;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0A;&#x8FF0;&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#x90FD;&#x53EF;&#x4EE5;&#x6CBF;&#x7528;&#xFF0C;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x72EC;&#x7279;&#x7684;&#x51E0;&#x79CD;&#xFF1A;&#x4E92;&#x65A5;&#x91CF;&#xFF0C;&#x81EA;&#x65CB;&#x9501;&#xFF0C;&#x6761;&#x4EF6;&#x53D8;&#x91CF;&#xFF0C;&#x8BFB;&#x5199;&#x9501;&#xFF0C;&#x7EBF;&#x7A0B;&#x4FE1;&#x53F7;&#xFF0C;&#x5168;&#x5C40;&#x53D8;&#x91CF;</li>\n<li>&#x901F;&#x5EA6;&#x4E0A;&#x7684;&#x533A;&#x522B;&#xFF1A;<br>&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x53EF;&#x80FD;&#x4F1A;&#x9700;&#x8981;&#x5207;&#x6362;&#x5185;&#x6838;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x4E0E;&#x5916;&#x8BBE;&#x8BBF;&#x95EE;&#xFF0C;&#x901F;&#x5EA6;&#x4F1A;&#x6BD4;&#x8F83;&#x6162;&#x3002;<br>&#x800C;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x5728;&#x8FDB;&#x7A0B;&#x7A7A;&#x95F4;&#x5185;&#x901A;&#x4FE1;&#xFF0C;&#x901F;&#x5EA6;&#x4F1A;&#x6BD4;&#x8F83;&#x5FEB;&#x3002;</li>\n</ul>\n<h3 id=\"memmove\"><a href=\"#memmove\" class=\"headerlink\" title=\"memmove\"></a>memmove</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span>* <span class=\"title\">memmove</span><span class=\"params\">(<span class=\"keyword\">void</span>* dst, <span class=\"keyword\">const</span> <span class=\"keyword\">void</span>* src, <span class=\"keyword\">size_t</span> n)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">char</span>* tmp_dst;</div><div class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">char</span>* tmp_src;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span> (dst &lt;= src)</div><div class=\"line\">    {</div><div class=\"line\">        tmp_dst = (<span class=\"keyword\">char</span>*)dst;</div><div class=\"line\">        tmp_src = (<span class=\"keyword\">const</span> <span class=\"keyword\">char</span>*)src;</div><div class=\"line\">        <span class=\"keyword\">while</span> (n--)</div><div class=\"line\">            *tmp_dst++ = *tmp_src++;</div><div class=\"line\">    }</div><div class=\"line\">    <span class=\"keyword\">else</span> <span class=\"comment\">//dst &gt; src,&#x8981;&#x4ECE;&#x672B;&#x5C3E;&#x5F00;&#x59CB;&#x590D;&#x5236;</span></div><div class=\"line\">    {</div><div class=\"line\">        tmp_dst = (<span class=\"keyword\">char</span>*)dst + n;</div><div class=\"line\">        tmp_src = (<span class=\"keyword\">const</span> <span class=\"keyword\">char</span>*)src + n;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">while</span> (n--)</div><div class=\"line\">            *--tmp_dst = *--tmp_src;</div><div class=\"line\">    }</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> tmp_dst;</div><div class=\"line\">}</div></pre></td></tr></table></figure>\n<h3 id=\"new-delete&#x548C;malloc-free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"><a href=\"#new-delete&#x548C;malloc-free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\" class=\"headerlink\" title=\"new/delete&#x548C;malloc/free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"></a>new/delete&#x548C;malloc/free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;</h3><h4 id=\"&#x4E0D;&#x540C;&#x70B9;\"><a href=\"#&#x4E0D;&#x540C;&#x70B9;\" class=\"headerlink\" title=\"&#x4E0D;&#x540C;&#x70B9;\"></a>&#x4E0D;&#x540C;&#x70B9;</h4><ul>\n<li>malloc/free&#x662F;&#x6807;&#x51C6;&#x5E93;&#x51FD;&#x6570;&#xFF0C;new/delete&#x662F;&#x8FD0;&#x7B97;&#x7B26;<br>new/delete&#x53EF;&#x4EE5;&#x5728;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x7684;&#x540C;&#x65F6;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x5BF9;&#x8C61;&#x6D88;&#x4EA1;&#x65F6;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x6790;&#x6784;&#x51FD;&#x6570;&#x3002;</li>\n</ul>\n<h4 id=\"&#x76F8;&#x540C;&#x70B9;\"><a href=\"#&#x76F8;&#x540C;&#x70B9;\" class=\"headerlink\" title=\"&#x76F8;&#x540C;&#x70B9;\"></a>&#x76F8;&#x540C;&#x70B9;</h4>","excerpt":"","more":"<h3 id=\"&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;\"><a href=\"#&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;\" class=\"headerlink\" title=\"&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;\"></a>&#x57FA;&#x7840;&#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x5927;&#x5C0F;</h3><ul>\n<li>char(unsigned char)       1</li>\n<li>short int (unsigned short int)                2                </li>\n<li>int(unsigned int)&#x3000;4</li>\n<li>long int   4</li>\n<li>long long  8</li>\n<li>float   4</li>\n<li>double  8</li>\n<li>bool 1</li>\n</ul>\n<h3 id=\"&#x5185;&#x5B58;&#x5BF9;&#x9F50;\"><a href=\"#&#x5185;&#x5B58;&#x5BF9;&#x9F50;\" class=\"headerlink\" title=\"&#x5185;&#x5B58;&#x5BF9;&#x9F50;\"></a>&#x5185;&#x5B58;&#x5BF9;&#x9F50;</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> ss</div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">char</span> a;</div><div class=\"line\">    <span class=\"keyword\">char</span> b;</div><div class=\"line\">    <span class=\"keyword\">long</span> <span class=\"keyword\">int</span> c;</div><div class=\"line\">}ss;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//sizeof(ss) = (1+1+&#x8865;&#x9F50;2) + 4 = 8</span></div></pre></td></tr></table></figure>\n<h3 id=\"&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"><a href=\"#&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\" class=\"headerlink\" title=\"&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"></a>&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;&#x7684;&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;</h3><h4 id=\"&#x8054;&#x7CFB;\"><a href=\"#&#x8054;&#x7CFB;\" class=\"headerlink\" title=\"&#x8054;&#x7CFB;\"></a>&#x8054;&#x7CFB;</h4><ul>\n<li>&#x90FD;&#x662F;&#x5B9E;&#x73B0;&#x591A;&#x4EFB;&#x52A1;&#x5E76;&#x53D1;&#x7684;&#x624B;&#x6BB5;</li>\n<li>&#x5B50;&#x8FDB;&#x7A0B;&#xFF08;&#x7EBF;&#x7A0B;&#xFF09;&#x7684;&#x8C03;&#x5EA6;&#x4E00;&#x822C;&#x4E0E;&#x7236;&#x8FDB;&#x7A0B;&#xFF08;&#x7EBF;&#x7A0B;&#xFF09;&#x5E73;&#x7B49;&#x7ADE;&#x4E89;</li>\n</ul>\n<h4 id=\"&#x533A;&#x522B;\"><a href=\"#&#x533A;&#x522B;\" class=\"headerlink\" title=\"&#x533A;&#x522B;\"></a>&#x533A;&#x522B;</h4><ul>\n<li>&#x8FDB;&#x7A0B;&#x662F;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#xFF0C;&#x7EBF;&#x7A0B;&#x662F;&#x8C03;&#x5EA6;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;</li>\n<li>&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF1A;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#xFF0C;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C;&#x4FE1;&#x53F7;&#x91CF;&#xFF0C;&#x6709;&#x540D;&#x7BA1;&#x9053;&#xFF0C;&#x65E0;&#x540D;&#x7BA1;&#x9053;&#xFF0C;&#x4FE1;&#x53F7;&#xFF0C;&#x6587;&#x4EF6;&#xFF0C;socket<br>&#x7EBF;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0A;&#x8FF0;&#x8FDB;&#x7A0B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#x90FD;&#x53EF;&#x4EE5;&#x6CBF;&#x7528;&#xFF0C;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x72EC;&#x7279;&#x7684;&#x51E0;&#x79CD;&#xFF1A;&#x4E92;&#x65A5;&#x91CF;&#xFF0C;&#x81EA;&#x65CB;&#x9501;&#xFF0C;&#x6761;&#x4EF6;&#x53D8;&#x91CF;&#xFF0C;&#x8BFB;&#x5199;&#x9501;&#xFF0C;&#x7EBF;&#x7A0B;&#x4FE1;&#x53F7;&#xFF0C;&#x5168;&#x5C40;&#x53D8;&#x91CF;</li>\n<li>&#x901F;&#x5EA6;&#x4E0A;&#x7684;&#x533A;&#x522B;&#xFF1A;<br>&#x8FDB;&#x7A0B;&#x95F4;&#x901A;&#x4FE1;&#x53EF;&#x80FD;&#x4F1A;&#x9700;&#x8981;&#x5207;&#x6362;&#x5185;&#x6838;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x4E0E;&#x5916;&#x8BBE;&#x8BBF;&#x95EE;&#xFF0C;&#x901F;&#x5EA6;&#x4F1A;&#x6BD4;&#x8F83;&#x6162;&#x3002;<br>&#x800C;&#x7EBF;&#x7A0B;&#x90FD;&#x662F;&#x5728;&#x8FDB;&#x7A0B;&#x7A7A;&#x95F4;&#x5185;&#x901A;&#x4FE1;&#xFF0C;&#x901F;&#x5EA6;&#x4F1A;&#x6BD4;&#x8F83;&#x5FEB;&#x3002;</li>\n</ul>\n<h3 id=\"memmove\"><a href=\"#memmove\" class=\"headerlink\" title=\"memmove\"></a>memmove</h3><figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span>* <span class=\"title\">memmove</span><span class=\"params\">(<span class=\"keyword\">void</span>* dst, <span class=\"keyword\">const</span> <span class=\"keyword\">void</span>* src, <span class=\"keyword\">size_t</span> n)</span></span></div><div class=\"line\">{</div><div class=\"line\">    <span class=\"keyword\">char</span>* tmp_dst;</div><div class=\"line\">    <span class=\"keyword\">const</span> <span class=\"keyword\">char</span>* tmp_src;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span> (dst &lt;= src)</div><div class=\"line\">    {</div><div class=\"line\">        tmp_dst = (<span class=\"keyword\">char</span>*)dst;</div><div class=\"line\">        tmp_src = (<span class=\"keyword\">const</span> <span class=\"keyword\">char</span>*)src;</div><div class=\"line\">        <span class=\"keyword\">while</span> (n--)</div><div class=\"line\">            *tmp_dst++ = *tmp_src++;</div><div class=\"line\">    }</div><div class=\"line\">    <span class=\"keyword\">else</span> <span class=\"comment\">//dst &gt; src,&#x8981;&#x4ECE;&#x672B;&#x5C3E;&#x5F00;&#x59CB;&#x590D;&#x5236;</span></div><div class=\"line\">    {</div><div class=\"line\">        tmp_dst = (<span class=\"keyword\">char</span>*)dst + n;</div><div class=\"line\">        tmp_src = (<span class=\"keyword\">const</span> <span class=\"keyword\">char</span>*)src + n;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"keyword\">while</span> (n--)</div><div class=\"line\">            *--tmp_dst = *--tmp_src;</div><div class=\"line\">    }</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> tmp_dst;</div><div class=\"line\">}</div></pre></td></tr></table></figure>\n<h3 id=\"new-delete&#x548C;malloc-free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"><a href=\"#new-delete&#x548C;malloc-free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\" class=\"headerlink\" title=\"new/delete&#x548C;malloc/free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;\"></a>new/delete&#x548C;malloc/free&#x8054;&#x7CFB;&#x548C;&#x533A;&#x522B;</h3><h4 id=\"&#x4E0D;&#x540C;&#x70B9;\"><a href=\"#&#x4E0D;&#x540C;&#x70B9;\" class=\"headerlink\" title=\"&#x4E0D;&#x540C;&#x70B9;\"></a>&#x4E0D;&#x540C;&#x70B9;</h4><ul>\n<li>malloc/free&#x662F;&#x6807;&#x51C6;&#x5E93;&#x51FD;&#x6570;&#xFF0C;new/delete&#x662F;&#x8FD0;&#x7B97;&#x7B26;<br>new/delete&#x53EF;&#x4EE5;&#x5728;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x7684;&#x540C;&#x65F6;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x5BF9;&#x8C61;&#x6D88;&#x4EA1;&#x65F6;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x6790;&#x6784;&#x51FD;&#x6570;&#x3002;</li>\n</ul>\n<h4 id=\"&#x76F8;&#x540C;&#x70B9;\"><a href=\"#&#x76F8;&#x540C;&#x70B9;\" class=\"headerlink\" title=\"&#x76F8;&#x540C;&#x70B9;\"></a>&#x76F8;&#x540C;&#x70B9;</h4>"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n<!--more-->\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n<!--more-->\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2016-12-02T23:20:29.638Z","updated":"2016-12-02T23:51:28.149Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwzm600052sv09jmrchwj","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.<br><a id=\"more\"></a></p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","excerpt":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.<br></p>","more":"<p></p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\">Deployment</a></p>"},{"title":"shader置灰","date":"2016-12-05T14:13:18.000Z","_content":"## vsh\n        attribute vec4 a_position; \n        attribute vec2 a_texCoord;\n        attribute vec4 a_color;\n\n        varying vec4 v_fragmentColor;\n        varying vec2 v_texCoord;\n        void main()\n        {\n            gl_Position = CC_MVPMatrix * a_position;  //这里CC_MVPMatrix 会使得位置偏移\n            v_fragmentColor = a_color;\n            v_texCoord = a_texCoord;\n        }\n\n\n## fsh\n        varying vec4 v_fragmentColor;\n        varying vec2 v_texCoord;\n        uniform sampler2D CC_Texture4;\n        void main()\n        {\n        vec4 v_orColor = v_fragmentColor * texture2D(CC_Texture4, v_texCoord);\n        float gray = dot(v_orColor.rgb, vec3(0.299, 0.587, 0.114));\n        gl_FragColor = vec4(gray, gray, gray, v_orColor.a);\n        }\n","source":"_posts/shader-gray.md","raw":"---\ntitle: shader置灰\ndate: 2016-12-05 22:13:18\ntags:\ncategories: shader\n---\n## vsh\n        attribute vec4 a_position; \n        attribute vec2 a_texCoord;\n        attribute vec4 a_color;\n\n        varying vec4 v_fragmentColor;\n        varying vec2 v_texCoord;\n        void main()\n        {\n            gl_Position = CC_MVPMatrix * a_position;  //这里CC_MVPMatrix 会使得位置偏移\n            v_fragmentColor = a_color;\n            v_texCoord = a_texCoord;\n        }\n\n\n## fsh\n        varying vec4 v_fragmentColor;\n        varying vec2 v_texCoord;\n        uniform sampler2D CC_Texture4;\n        void main()\n        {\n        vec4 v_orColor = v_fragmentColor * texture2D(CC_Texture4, v_texCoord);\n        float gray = dot(v_orColor.rgb, vec3(0.299, 0.587, 0.114));\n        gl_FragColor = vec4(gray, gray, gray, v_orColor.a);\n        }\n","slug":"shader-gray","published":1,"updated":"2016-12-07T12:51:48.645Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwzmf00072sv0rc8tz3r6","content":"<h2 id=\"vsh\"><a href=\"#vsh\" class=\"headerlink\" title=\"vsh\"></a>vsh</h2><pre><code>attribute vec4 a_position; \nattribute vec2 a_texCoord;\nattribute vec4 a_color;\n\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nvoid main()\n{\n    gl_Position = CC_MVPMatrix * a_position;  //&#x8FD9;&#x91CC;CC_MVPMatrix &#x4F1A;&#x4F7F;&#x5F97;&#x4F4D;&#x7F6E;&#x504F;&#x79FB;\n    v_fragmentColor = a_color;\n    v_texCoord = a_texCoord;\n}\n</code></pre><h2 id=\"fsh\"><a href=\"#fsh\" class=\"headerlink\" title=\"fsh\"></a>fsh</h2><pre><code>varying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nuniform sampler2D CC_Texture4;\nvoid main()\n{\nvec4 v_orColor = v_fragmentColor * texture2D(CC_Texture4, v_texCoord);\nfloat gray = dot(v_orColor.rgb, vec3(0.299, 0.587, 0.114));\ngl_FragColor = vec4(gray, gray, gray, v_orColor.a);\n}\n</code></pre>","excerpt":"","more":"<h2 id=\"vsh\"><a href=\"#vsh\" class=\"headerlink\" title=\"vsh\"></a>vsh</h2><pre><code>attribute vec4 a_position; \nattribute vec2 a_texCoord;\nattribute vec4 a_color;\n\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nvoid main()\n{\n    gl_Position = CC_MVPMatrix * a_position;  //&#x8FD9;&#x91CC;CC_MVPMatrix &#x4F1A;&#x4F7F;&#x5F97;&#x4F4D;&#x7F6E;&#x504F;&#x79FB;\n    v_fragmentColor = a_color;\n    v_texCoord = a_texCoord;\n}\n</code></pre><h2 id=\"fsh\"><a href=\"#fsh\" class=\"headerlink\" title=\"fsh\"></a>fsh</h2><pre><code>varying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nuniform sampler2D CC_Texture4;\nvoid main()\n{\nvec4 v_orColor = v_fragmentColor * texture2D(CC_Texture4, v_texCoord);\nfloat gray = dot(v_orColor.rgb, vec3(0.299, 0.587, 0.114));\ngl_FragColor = vec4(gray, gray, gray, v_orColor.a);\n}\n</code></pre>"},{"title":"利用NDK崩溃日志查找BUG","date":"2016-12-05T14:00:41.000Z","_content":"利用Android的crash log来对C++开发的Android应用进行错误定位。\n通用操作系统都有自己的日志系统，Android也不例外。但是Android的系统日志，打印的都是内存的地址和寄存器信息。\n如：\n        - ::35.331 23889 23889 I DEBUG : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** \n        - ::35.331 23889 23889 I DEBUG : Build fingerprint: google/razorg/deb:4.4.2/KOT49H/937116:user/release-keys \n        - ::35.331 23889 23889 I DEBUG : Revision: \n        - ::35.331 23889 23889 I DEBUG : pid: , tid: , name: Thread- >>> com.guangyou.ddgame <<< \n        - ::35.331 23889 23889 I DEBUG : signal (SIGSEGV), code (SEGV_MAPERR), fault addr 00000028 \n        - ::35.431 D audio_hw_primary: out_set_parameters: enter: usecase(: deep-buffer-playback) kvpairs: routing= \n        - ::35.511 23889 23889 I DEBUG : r0 76d94458 r1 00000000 r2 00000000 r3 00000000 \n        - ::35.511 23889 23889 I DEBUG : r4 760c1a48 r5 751e2440 r6 00000001 r7 760c1a48 \n        - ::35.511 23889 23889 I DEBUG : r8 00000001 r9 76c96f3c sl 76c861c0 fp 76d94444 \n        - ::35.511 23889 23889 I DEBUG : ip 00000001 sp 76d94430 lr 75a81bd8 pc 75a81bdc cpsr 600f0010 \n        - ::35.511 23889 23889 I DEBUG : d0 746968775f327865 d1 6a6e6169642f675f \n        - ::35.511 23889 23889 I DEBUG : d2 5f6f616978757169 d3 676e702e6e776f6d \n        - ::35.511 23889 23889 I DEBUG : d4 0000000009000000 d5 0000000000000000 \n        - ::35.511 23889 23889 I DEBUG : d6 0000000000000000 d7 0000000000000000\n\n## 怎样获取android的系统日志\n\n假设你已经安装了 Android Develop Tools, 可以成功调用 adb . 并打开android开发用机的调试模式, 连接到电脑.\n打开命令行, 在命令行输入: adb logcat . 就可以看到满屏幕的日志啦.\n输入 adb logcat --help 可以看到 logcat 的用法提示.\n两个常用参数：\n        1. -v XXXX : 用来选择log输出样式, 一般建议 threadtime , 更加详细.\n        2. -d : 让log一次性输出后马上完毕. 如果没有此命令, logcat 工具会一直输出, 即使更新在界面上.\n\n如果需要保存log到文件, 方便以后查看. 可输入命令:  \n        **adb logcat -v threadtime -d > log.txt**\n\n输出到文件中的是一段时间内的log(大概从凌晨**3点**开始,一直到敲完cmd命令时)   \n\nadb工具在**\\android-sdk-windows\\platform-tools**下\n\n未完待续","source":"_posts/ndk-crash-log.md","raw":"---\ntitle: 利用NDK崩溃日志查找BUG\ndate: 2016-12-05 22:00:41\ntags:\ncategories: Android\n---\n利用Android的crash log来对C++开发的Android应用进行错误定位。\n通用操作系统都有自己的日志系统，Android也不例外。但是Android的系统日志，打印的都是内存的地址和寄存器信息。\n如：\n        - ::35.331 23889 23889 I DEBUG : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** \n        - ::35.331 23889 23889 I DEBUG : Build fingerprint: google/razorg/deb:4.4.2/KOT49H/937116:user/release-keys \n        - ::35.331 23889 23889 I DEBUG : Revision: \n        - ::35.331 23889 23889 I DEBUG : pid: , tid: , name: Thread- >>> com.guangyou.ddgame <<< \n        - ::35.331 23889 23889 I DEBUG : signal (SIGSEGV), code (SEGV_MAPERR), fault addr 00000028 \n        - ::35.431 D audio_hw_primary: out_set_parameters: enter: usecase(: deep-buffer-playback) kvpairs: routing= \n        - ::35.511 23889 23889 I DEBUG : r0 76d94458 r1 00000000 r2 00000000 r3 00000000 \n        - ::35.511 23889 23889 I DEBUG : r4 760c1a48 r5 751e2440 r6 00000001 r7 760c1a48 \n        - ::35.511 23889 23889 I DEBUG : r8 00000001 r9 76c96f3c sl 76c861c0 fp 76d94444 \n        - ::35.511 23889 23889 I DEBUG : ip 00000001 sp 76d94430 lr 75a81bd8 pc 75a81bdc cpsr 600f0010 \n        - ::35.511 23889 23889 I DEBUG : d0 746968775f327865 d1 6a6e6169642f675f \n        - ::35.511 23889 23889 I DEBUG : d2 5f6f616978757169 d3 676e702e6e776f6d \n        - ::35.511 23889 23889 I DEBUG : d4 0000000009000000 d5 0000000000000000 \n        - ::35.511 23889 23889 I DEBUG : d6 0000000000000000 d7 0000000000000000\n\n## 怎样获取android的系统日志\n\n假设你已经安装了 Android Develop Tools, 可以成功调用 adb . 并打开android开发用机的调试模式, 连接到电脑.\n打开命令行, 在命令行输入: adb logcat . 就可以看到满屏幕的日志啦.\n输入 adb logcat --help 可以看到 logcat 的用法提示.\n两个常用参数：\n        1. -v XXXX : 用来选择log输出样式, 一般建议 threadtime , 更加详细.\n        2. -d : 让log一次性输出后马上完毕. 如果没有此命令, logcat 工具会一直输出, 即使更新在界面上.\n\n如果需要保存log到文件, 方便以后查看. 可输入命令:  \n        **adb logcat -v threadtime -d > log.txt**\n\n输出到文件中的是一段时间内的log(大概从凌晨**3点**开始,一直到敲完cmd命令时)   \n\nadb工具在**\\android-sdk-windows\\platform-tools**下\n\n未完待续","slug":"ndk-crash-log","published":1,"updated":"2016-12-05T14:12:36.295Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwzml00092sv0d5pyuymj","content":"<p>&#x5229;&#x7528;Android&#x7684;crash log&#x6765;&#x5BF9;C++&#x5F00;&#x53D1;&#x7684;Android&#x5E94;&#x7528;&#x8FDB;&#x884C;&#x9519;&#x8BEF;&#x5B9A;&#x4F4D;&#x3002;<br>&#x901A;&#x7528;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x65E5;&#x5FD7;&#x7CFB;&#x7EDF;&#xFF0C;Android&#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#x3002;&#x4F46;&#x662F;Android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#xFF0C;&#x6253;&#x5370;&#x7684;&#x90FD;&#x662F;&#x5185;&#x5B58;&#x7684;&#x5730;&#x5740;&#x548C;&#x5BC4;&#x5B58;&#x5668;&#x4FE1;&#x606F;&#x3002;<br>&#x5982;&#xFF1A;</p>\n<pre><code>- ::35.331 23889 23889 I DEBUG : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** \n- ::35.331 23889 23889 I DEBUG : Build fingerprint: google/razorg/deb:4.4.2/KOT49H/937116:user/release-keys \n- ::35.331 23889 23889 I DEBUG : Revision: \n- ::35.331 23889 23889 I DEBUG : pid: , tid: , name: Thread- &gt;&gt;&gt; com.guangyou.ddgame &lt;&lt;&lt; \n- ::35.331 23889 23889 I DEBUG : signal (SIGSEGV), code (SEGV_MAPERR), fault addr 00000028 \n- ::35.431 D audio_hw_primary: out_set_parameters: enter: usecase(: deep-buffer-playback) kvpairs: routing= \n- ::35.511 23889 23889 I DEBUG : r0 76d94458 r1 00000000 r2 00000000 r3 00000000 \n- ::35.511 23889 23889 I DEBUG : r4 760c1a48 r5 751e2440 r6 00000001 r7 760c1a48 \n- ::35.511 23889 23889 I DEBUG : r8 00000001 r9 76c96f3c sl 76c861c0 fp 76d94444 \n- ::35.511 23889 23889 I DEBUG : ip 00000001 sp 76d94430 lr 75a81bd8 pc 75a81bdc cpsr 600f0010 \n- ::35.511 23889 23889 I DEBUG : d0 746968775f327865 d1 6a6e6169642f675f \n- ::35.511 23889 23889 I DEBUG : d2 5f6f616978757169 d3 676e702e6e776f6d \n- ::35.511 23889 23889 I DEBUG : d4 0000000009000000 d5 0000000000000000 \n- ::35.511 23889 23889 I DEBUG : d6 0000000000000000 d7 0000000000000000\n</code></pre><h2 id=\"&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;\"><a href=\"#&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;\" class=\"headerlink\" title=\"&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;\"></a>&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;</h2><p>&#x5047;&#x8BBE;&#x4F60;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86; Android Develop Tools, &#x53EF;&#x4EE5;&#x6210;&#x529F;&#x8C03;&#x7528; adb . &#x5E76;&#x6253;&#x5F00;android&#x5F00;&#x53D1;&#x7528;&#x673A;&#x7684;&#x8C03;&#x8BD5;&#x6A21;&#x5F0F;, &#x8FDE;&#x63A5;&#x5230;&#x7535;&#x8111;.<br>&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;, &#x5728;&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;: adb logcat . &#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6EE1;&#x5C4F;&#x5E55;&#x7684;&#x65E5;&#x5FD7;&#x5566;.<br>&#x8F93;&#x5165; adb logcat &#x2013;help &#x53EF;&#x4EE5;&#x770B;&#x5230; logcat &#x7684;&#x7528;&#x6CD5;&#x63D0;&#x793A;.<br>&#x4E24;&#x4E2A;&#x5E38;&#x7528;&#x53C2;&#x6570;&#xFF1A;</p>\n<pre><code>1. -v XXXX : &#x7528;&#x6765;&#x9009;&#x62E9;log&#x8F93;&#x51FA;&#x6837;&#x5F0F;, &#x4E00;&#x822C;&#x5EFA;&#x8BAE; threadtime , &#x66F4;&#x52A0;&#x8BE6;&#x7EC6;.\n2. -d : &#x8BA9;log&#x4E00;&#x6B21;&#x6027;&#x8F93;&#x51FA;&#x540E;&#x9A6C;&#x4E0A;&#x5B8C;&#x6BD5;. &#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B64;&#x547D;&#x4EE4;, logcat &#x5DE5;&#x5177;&#x4F1A;&#x4E00;&#x76F4;&#x8F93;&#x51FA;, &#x5373;&#x4F7F;&#x66F4;&#x65B0;&#x5728;&#x754C;&#x9762;&#x4E0A;.\n</code></pre><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x4FDD;&#x5B58;log&#x5230;&#x6587;&#x4EF6;, &#x65B9;&#x4FBF;&#x4EE5;&#x540E;&#x67E5;&#x770B;. &#x53EF;&#x8F93;&#x5165;&#x547D;&#x4EE4;:<br>        <strong>adb logcat -v threadtime -d &gt; log.txt</strong></p>\n<p>&#x8F93;&#x51FA;&#x5230;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x662F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x7684;log(&#x5927;&#x6982;&#x4ECE;&#x51CC;&#x6668;<strong>3&#x70B9;</strong>&#x5F00;&#x59CB;,&#x4E00;&#x76F4;&#x5230;&#x6572;&#x5B8C;cmd&#x547D;&#x4EE4;&#x65F6;)   </p>\n<p>adb&#x5DE5;&#x5177;&#x5728;<strong>\\android-sdk-windows\\platform-tools</strong>&#x4E0B;</p>\n<p>&#x672A;&#x5B8C;&#x5F85;&#x7EED;</p>\n","excerpt":"","more":"<p>&#x5229;&#x7528;Android&#x7684;crash log&#x6765;&#x5BF9;C++&#x5F00;&#x53D1;&#x7684;Android&#x5E94;&#x7528;&#x8FDB;&#x884C;&#x9519;&#x8BEF;&#x5B9A;&#x4F4D;&#x3002;<br>&#x901A;&#x7528;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x65E5;&#x5FD7;&#x7CFB;&#x7EDF;&#xFF0C;Android&#x4E5F;&#x4E0D;&#x4F8B;&#x5916;&#x3002;&#x4F46;&#x662F;Android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;&#xFF0C;&#x6253;&#x5370;&#x7684;&#x90FD;&#x662F;&#x5185;&#x5B58;&#x7684;&#x5730;&#x5740;&#x548C;&#x5BC4;&#x5B58;&#x5668;&#x4FE1;&#x606F;&#x3002;<br>&#x5982;&#xFF1A;</p>\n<pre><code>- ::35.331 23889 23889 I DEBUG : *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** \n- ::35.331 23889 23889 I DEBUG : Build fingerprint: google/razorg/deb:4.4.2/KOT49H/937116:user/release-keys \n- ::35.331 23889 23889 I DEBUG : Revision: \n- ::35.331 23889 23889 I DEBUG : pid: , tid: , name: Thread- &gt;&gt;&gt; com.guangyou.ddgame &lt;&lt;&lt; \n- ::35.331 23889 23889 I DEBUG : signal (SIGSEGV), code (SEGV_MAPERR), fault addr 00000028 \n- ::35.431 D audio_hw_primary: out_set_parameters: enter: usecase(: deep-buffer-playback) kvpairs: routing= \n- ::35.511 23889 23889 I DEBUG : r0 76d94458 r1 00000000 r2 00000000 r3 00000000 \n- ::35.511 23889 23889 I DEBUG : r4 760c1a48 r5 751e2440 r6 00000001 r7 760c1a48 \n- ::35.511 23889 23889 I DEBUG : r8 00000001 r9 76c96f3c sl 76c861c0 fp 76d94444 \n- ::35.511 23889 23889 I DEBUG : ip 00000001 sp 76d94430 lr 75a81bd8 pc 75a81bdc cpsr 600f0010 \n- ::35.511 23889 23889 I DEBUG : d0 746968775f327865 d1 6a6e6169642f675f \n- ::35.511 23889 23889 I DEBUG : d2 5f6f616978757169 d3 676e702e6e776f6d \n- ::35.511 23889 23889 I DEBUG : d4 0000000009000000 d5 0000000000000000 \n- ::35.511 23889 23889 I DEBUG : d6 0000000000000000 d7 0000000000000000\n</code></pre><h2 id=\"&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;\"><a href=\"#&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;\" class=\"headerlink\" title=\"&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;\"></a>&#x600E;&#x6837;&#x83B7;&#x53D6;android&#x7684;&#x7CFB;&#x7EDF;&#x65E5;&#x5FD7;</h2><p>&#x5047;&#x8BBE;&#x4F60;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86; Android Develop Tools, &#x53EF;&#x4EE5;&#x6210;&#x529F;&#x8C03;&#x7528; adb . &#x5E76;&#x6253;&#x5F00;android&#x5F00;&#x53D1;&#x7528;&#x673A;&#x7684;&#x8C03;&#x8BD5;&#x6A21;&#x5F0F;, &#x8FDE;&#x63A5;&#x5230;&#x7535;&#x8111;.<br>&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;, &#x5728;&#x547D;&#x4EE4;&#x884C;&#x8F93;&#x5165;: adb logcat . &#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6EE1;&#x5C4F;&#x5E55;&#x7684;&#x65E5;&#x5FD7;&#x5566;.<br>&#x8F93;&#x5165; adb logcat &#x2013;help &#x53EF;&#x4EE5;&#x770B;&#x5230; logcat &#x7684;&#x7528;&#x6CD5;&#x63D0;&#x793A;.<br>&#x4E24;&#x4E2A;&#x5E38;&#x7528;&#x53C2;&#x6570;&#xFF1A;</p>\n<pre><code>1. -v XXXX : &#x7528;&#x6765;&#x9009;&#x62E9;log&#x8F93;&#x51FA;&#x6837;&#x5F0F;, &#x4E00;&#x822C;&#x5EFA;&#x8BAE; threadtime , &#x66F4;&#x52A0;&#x8BE6;&#x7EC6;.\n2. -d : &#x8BA9;log&#x4E00;&#x6B21;&#x6027;&#x8F93;&#x51FA;&#x540E;&#x9A6C;&#x4E0A;&#x5B8C;&#x6BD5;. &#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B64;&#x547D;&#x4EE4;, logcat &#x5DE5;&#x5177;&#x4F1A;&#x4E00;&#x76F4;&#x8F93;&#x51FA;, &#x5373;&#x4F7F;&#x66F4;&#x65B0;&#x5728;&#x754C;&#x9762;&#x4E0A;.\n</code></pre><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x4FDD;&#x5B58;log&#x5230;&#x6587;&#x4EF6;, &#x65B9;&#x4FBF;&#x4EE5;&#x540E;&#x67E5;&#x770B;. &#x53EF;&#x8F93;&#x5165;&#x547D;&#x4EE4;:<br>        <strong>adb logcat -v threadtime -d &gt; log.txt</strong></p>\n<p>&#x8F93;&#x51FA;&#x5230;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x662F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x7684;log(&#x5927;&#x6982;&#x4ECE;&#x51CC;&#x6668;<strong>3&#x70B9;</strong>&#x5F00;&#x59CB;,&#x4E00;&#x76F4;&#x5230;&#x6572;&#x5B8C;cmd&#x547D;&#x4EE4;&#x65F6;)   </p>\n<p>adb&#x5DE5;&#x5177;&#x5728;<strong>\\android-sdk-windows\\platform-tools</strong>&#x4E0B;</p>\n<p>&#x672A;&#x5B8C;&#x5F85;&#x7EED;</p>\n"},{"title":"热更新","date":"2016-12-03T00:52:10.000Z","_content":"\n### 关键类\n- AssetsManagerEx，热更新核心类\n- Manifest，更新清单类\n- EventAssetsManagerEx，热更新事件类\n- EventListenerAssetsManagerEx，事件监听类\n<!--more-->\n### 使用方法\n- C++   \n        auto dispatcher = Director::getInstance()->getEventDispatcher();\n        //manifestUrl, 本地资源列表文件\n        //storagePath, 新版本资源存储路径 . 因为旧的资源是只读的, 所以需要放到新的位置\n        auto manager = AssetsManagerEx::create(manifestUrl, storagePath);\n        \n        auto callback = [](EventAssetsManagerEx* event){ do_some_thing(); };\n        auto listener = EventListenerAssetsManagerEx::create(manager, callback);\n        dispatcher->addEventListenerWithSceneGraphPriority(listener, one_node);\n\n        dispatcher->removeEventListener(listener);\n\n        //检测是否有更新\n        void checkUpdate();\n\n\n- Lua   \n        self.assetsManagerEx = cc.AssetsManagerEx:create(MY_CONFIG.manifestUrl, storagePath)\n        self.assetsManagerEx:retain()\n\n        --设置下载消息listener\n        local eventListenerAssetsManagerEx = cc.EventListenerAssetsManagerEx:create(self.assetsManagerEx, handler(self, self.handleAssetsManagerEx))\n        cc.Director:getInstance():getEventDispatcher():addEventListenerWithFixedPriority(eventListenerAssetsManagerEx, 1\n\n        --检查版本并升级\n        self.assetsManagerEx:checkUpdate()\n        --更新函数\n        self.assetsManagerEx:update()\n        \n#### EventAssetsManagerEx事件类型,在callback中监听的事件类型\nenum class EventCode\n  {  \n  ERROR_NO_LOCAL_MANIFEST, //**本地没有manifest文件**  \n  ERROR_DOWNLOAD_MANIFEST,//**下载manifest文件失败**  \n  ERROR_PARSE_MANIFEST,//**解析manifest文件失败**  \n  NEW_VERSION_FOUND,//**发现新版本**  \n  ALREADY_UP_TO_DATE,//**已经更新到最新**  \n  UPDATE_PROGRESSION,//**更新进度**  \n  ASSET_UPDATED,     //**更新成功一个文件**  \n  ERROR_UPDATING,//**更新中错误**\n  UPDATE_FINISHED,     //**全部更新完成**  \n  UPDATE_FAILED,//**更新失败**  \n  ERROR_DECOMPRESS //**解压失败**  \n  };   \n    \n### 遇到的问题\n- **本地资源列表的存放位置**\n只能是放在src中,不能放在可读写区域,因为无法确认具体设备的可读写区域在哪,     \n所以project.manifest和version.manifest，也要作为热更新的内容写在project.manifest中\n\n- **热更新后,没有使用更新后的文件**  \n因为src目录已经很早之前就添加进去了,这个时候需要把更新目录加到最前面去  \n        cc.FileUtils:getInstance():addSearchPath(\"versionFiles/\", true)  \n第二个参数设置为ture，可以将路径加到第一个查找的位置  \n- **更新到509个文件时停止**\n因为Cocos在热更新时，会同时打开所有待更新的文件，创建临时文件tmp，如果更新文件数量过多，会同时创建过多的文件句柄，  \n超过了系统进程打开文件最大句柄数的限制后，就不能再继续打开新的文件。\n**为什么是509呢？** \n系统进程打开文件最大句柄数的限制是512个，其中三个是标准输入文件__stdin__,标准输出文件__stdout__,标准错误输出文件__stderr__\n设置  \n获取和设置当前系统允许打开的最大句柄数的函数：__getmaxstdio()__和__setmaxstdio()__\n","source":"_posts/hot-update.md","raw":"---\ntitle: 热更新\ndate: 2016-12-03 08:52:10\ntags:\ncategories: Cocos2d-x\n---\n\n### 关键类\n- AssetsManagerEx，热更新核心类\n- Manifest，更新清单类\n- EventAssetsManagerEx，热更新事件类\n- EventListenerAssetsManagerEx，事件监听类\n<!--more-->\n### 使用方法\n- C++   \n        auto dispatcher = Director::getInstance()->getEventDispatcher();\n        //manifestUrl, 本地资源列表文件\n        //storagePath, 新版本资源存储路径 . 因为旧的资源是只读的, 所以需要放到新的位置\n        auto manager = AssetsManagerEx::create(manifestUrl, storagePath);\n        \n        auto callback = [](EventAssetsManagerEx* event){ do_some_thing(); };\n        auto listener = EventListenerAssetsManagerEx::create(manager, callback);\n        dispatcher->addEventListenerWithSceneGraphPriority(listener, one_node);\n\n        dispatcher->removeEventListener(listener);\n\n        //检测是否有更新\n        void checkUpdate();\n\n\n- Lua   \n        self.assetsManagerEx = cc.AssetsManagerEx:create(MY_CONFIG.manifestUrl, storagePath)\n        self.assetsManagerEx:retain()\n\n        --设置下载消息listener\n        local eventListenerAssetsManagerEx = cc.EventListenerAssetsManagerEx:create(self.assetsManagerEx, handler(self, self.handleAssetsManagerEx))\n        cc.Director:getInstance():getEventDispatcher():addEventListenerWithFixedPriority(eventListenerAssetsManagerEx, 1\n\n        --检查版本并升级\n        self.assetsManagerEx:checkUpdate()\n        --更新函数\n        self.assetsManagerEx:update()\n        \n#### EventAssetsManagerEx事件类型,在callback中监听的事件类型\nenum class EventCode\n  {  \n  ERROR_NO_LOCAL_MANIFEST, //**本地没有manifest文件**  \n  ERROR_DOWNLOAD_MANIFEST,//**下载manifest文件失败**  \n  ERROR_PARSE_MANIFEST,//**解析manifest文件失败**  \n  NEW_VERSION_FOUND,//**发现新版本**  \n  ALREADY_UP_TO_DATE,//**已经更新到最新**  \n  UPDATE_PROGRESSION,//**更新进度**  \n  ASSET_UPDATED,     //**更新成功一个文件**  \n  ERROR_UPDATING,//**更新中错误**\n  UPDATE_FINISHED,     //**全部更新完成**  \n  UPDATE_FAILED,//**更新失败**  \n  ERROR_DECOMPRESS //**解压失败**  \n  };   \n    \n### 遇到的问题\n- **本地资源列表的存放位置**\n只能是放在src中,不能放在可读写区域,因为无法确认具体设备的可读写区域在哪,     \n所以project.manifest和version.manifest，也要作为热更新的内容写在project.manifest中\n\n- **热更新后,没有使用更新后的文件**  \n因为src目录已经很早之前就添加进去了,这个时候需要把更新目录加到最前面去  \n        cc.FileUtils:getInstance():addSearchPath(\"versionFiles/\", true)  \n第二个参数设置为ture，可以将路径加到第一个查找的位置  \n- **更新到509个文件时停止**\n因为Cocos在热更新时，会同时打开所有待更新的文件，创建临时文件tmp，如果更新文件数量过多，会同时创建过多的文件句柄，  \n超过了系统进程打开文件最大句柄数的限制后，就不能再继续打开新的文件。\n**为什么是509呢？** \n系统进程打开文件最大句柄数的限制是512个，其中三个是标准输入文件__stdin__,标准输出文件__stdout__,标准错误输出文件__stderr__\n设置  \n获取和设置当前系统允许打开的最大句柄数的函数：__getmaxstdio()__和__setmaxstdio()__\n","slug":"hot-update","published":1,"updated":"2016-12-03T06:26:31.829Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwznl000j2sv0749i5l09","content":"<h3 id=\"&#x5173;&#x952E;&#x7C7B;\"><a href=\"#&#x5173;&#x952E;&#x7C7B;\" class=\"headerlink\" title=\"&#x5173;&#x952E;&#x7C7B;\"></a>&#x5173;&#x952E;&#x7C7B;</h3><ul>\n<li>AssetsManagerEx&#xFF0C;&#x70ED;&#x66F4;&#x65B0;&#x6838;&#x5FC3;&#x7C7B;</li>\n<li>Manifest&#xFF0C;&#x66F4;&#x65B0;&#x6E05;&#x5355;&#x7C7B;</li>\n<li>EventAssetsManagerEx&#xFF0C;&#x70ED;&#x66F4;&#x65B0;&#x4E8B;&#x4EF6;&#x7C7B;</li>\n<li>EventListenerAssetsManagerEx&#xFF0C;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x7C7B;<a id=\"more\"></a>\n<h3 id=\"&#x4F7F;&#x7528;&#x65B9;&#x6CD5;\"><a href=\"#&#x4F7F;&#x7528;&#x65B9;&#x6CD5;\" class=\"headerlink\" title=\"&#x4F7F;&#x7528;&#x65B9;&#x6CD5;\"></a>&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</h3></li>\n<li><p>C++   </p>\n<pre><code>auto dispatcher = Director::getInstance()-&gt;getEventDispatcher();\n//manifestUrl, &#x672C;&#x5730;&#x8D44;&#x6E90;&#x5217;&#x8868;&#x6587;&#x4EF6;\n//storagePath, &#x65B0;&#x7248;&#x672C;&#x8D44;&#x6E90;&#x5B58;&#x50A8;&#x8DEF;&#x5F84; . &#x56E0;&#x4E3A;&#x65E7;&#x7684;&#x8D44;&#x6E90;&#x662F;&#x53EA;&#x8BFB;&#x7684;, &#x6240;&#x4EE5;&#x9700;&#x8981;&#x653E;&#x5230;&#x65B0;&#x7684;&#x4F4D;&#x7F6E;\nauto manager = AssetsManagerEx::create(manifestUrl, storagePath);\n\nauto callback = [](EventAssetsManagerEx* event){ do_some_thing(); };\nauto listener = EventListenerAssetsManagerEx::create(manager, callback);\ndispatcher-&gt;addEventListenerWithSceneGraphPriority(listener, one_node);\n\ndispatcher-&gt;removeEventListener(listener);\n\n//&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x6709;&#x66F4;&#x65B0;\nvoid checkUpdate();\n</code></pre></li>\n</ul>\n<ul>\n<li><p>Lua   </p>\n<pre><code>self.assetsManagerEx = cc.AssetsManagerEx:create(MY_CONFIG.manifestUrl, storagePath)\nself.assetsManagerEx:retain()\n\n--&#x8BBE;&#x7F6E;&#x4E0B;&#x8F7D;&#x6D88;&#x606F;listener\nlocal eventListenerAssetsManagerEx = cc.EventListenerAssetsManagerEx:create(self.assetsManagerEx, handler(self, self.handleAssetsManagerEx))\ncc.Director:getInstance():getEventDispatcher():addEventListenerWithFixedPriority(eventListenerAssetsManagerEx, 1\n\n--&#x68C0;&#x67E5;&#x7248;&#x672C;&#x5E76;&#x5347;&#x7EA7;\nself.assetsManagerEx:checkUpdate()\n--&#x66F4;&#x65B0;&#x51FD;&#x6570;\nself.assetsManagerEx:update()\n</code></pre></li>\n</ul>\n<h4 id=\"EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;-&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;\"><a href=\"#EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;-&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;\" class=\"headerlink\" title=\"EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;,&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;\"></a>EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;,&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;</h4><p>enum class EventCode<br>  {<br>  ERROR_NO_LOCAL_MANIFEST, //<strong>&#x672C;&#x5730;&#x6CA1;&#x6709;manifest&#x6587;&#x4EF6;</strong><br>  ERROR_DOWNLOAD_MANIFEST,//<strong>&#x4E0B;&#x8F7D;manifest&#x6587;&#x4EF6;&#x5931;&#x8D25;</strong><br>  ERROR_PARSE_MANIFEST,//<strong>&#x89E3;&#x6790;manifest&#x6587;&#x4EF6;&#x5931;&#x8D25;</strong><br>  NEW_VERSION_FOUND,//<strong>&#x53D1;&#x73B0;&#x65B0;&#x7248;&#x672C;</strong><br>  ALREADY_UP_TO_DATE,//<strong>&#x5DF2;&#x7ECF;&#x66F4;&#x65B0;&#x5230;&#x6700;&#x65B0;</strong><br>  UPDATE_PROGRESSION,//<strong>&#x66F4;&#x65B0;&#x8FDB;&#x5EA6;</strong><br>  ASSET_UPDATED,     //<strong>&#x66F4;&#x65B0;&#x6210;&#x529F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;</strong><br>  ERROR_UPDATING,//<strong>&#x66F4;&#x65B0;&#x4E2D;&#x9519;&#x8BEF;</strong><br>  UPDATE_FINISHED,     //<strong>&#x5168;&#x90E8;&#x66F4;&#x65B0;&#x5B8C;&#x6210;</strong><br>  UPDATE_FAILED,//<strong>&#x66F4;&#x65B0;&#x5931;&#x8D25;</strong><br>  ERROR_DECOMPRESS //<strong>&#x89E3;&#x538B;&#x5931;&#x8D25;</strong><br>  };   </p>\n<h3 id=\"&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;\"><a href=\"#&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;\" class=\"headerlink\" title=\"&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;\"></a>&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;</h3><ul>\n<li><p><strong>&#x672C;&#x5730;&#x8D44;&#x6E90;&#x5217;&#x8868;&#x7684;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;</strong><br>&#x53EA;&#x80FD;&#x662F;&#x653E;&#x5728;src&#x4E2D;,&#x4E0D;&#x80FD;&#x653E;&#x5728;&#x53EF;&#x8BFB;&#x5199;&#x533A;&#x57DF;,&#x56E0;&#x4E3A;&#x65E0;&#x6CD5;&#x786E;&#x8BA4;&#x5177;&#x4F53;&#x8BBE;&#x5907;&#x7684;&#x53EF;&#x8BFB;&#x5199;&#x533A;&#x57DF;&#x5728;&#x54EA;,<br>&#x6240;&#x4EE5;project.manifest&#x548C;version.manifest&#xFF0C;&#x4E5F;&#x8981;&#x4F5C;&#x4E3A;&#x70ED;&#x66F4;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x5199;&#x5728;project.manifest&#x4E2D;</p>\n</li>\n<li><p><strong>&#x70ED;&#x66F4;&#x65B0;&#x540E;,&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x6587;&#x4EF6;</strong><br>&#x56E0;&#x4E3A;src&#x76EE;&#x5F55;&#x5DF2;&#x7ECF;&#x5F88;&#x65E9;&#x4E4B;&#x524D;&#x5C31;&#x6DFB;&#x52A0;&#x8FDB;&#x53BB;&#x4E86;,&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x9700;&#x8981;&#x628A;&#x66F4;&#x65B0;&#x76EE;&#x5F55;&#x52A0;&#x5230;&#x6700;&#x524D;&#x9762;&#x53BB;  </p>\n<pre><code>cc.FileUtils:getInstance():addSearchPath(&quot;versionFiles/&quot;, true)  \n</code></pre><p>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;ture&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x8DEF;&#x5F84;&#x52A0;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x67E5;&#x627E;&#x7684;&#x4F4D;&#x7F6E;  </p>\n</li>\n<li><strong>&#x66F4;&#x65B0;&#x5230;509&#x4E2A;&#x6587;&#x4EF6;&#x65F6;&#x505C;&#x6B62;</strong><br>&#x56E0;&#x4E3A;Cocos&#x5728;&#x70ED;&#x66F4;&#x65B0;&#x65F6;&#xFF0C;&#x4F1A;&#x540C;&#x65F6;&#x6253;&#x5F00;&#x6240;&#x6709;&#x5F85;&#x66F4;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x6587;&#x4EF6;tmp&#xFF0C;&#x5982;&#x679C;&#x66F4;&#x65B0;&#x6587;&#x4EF6;&#x6570;&#x91CF;&#x8FC7;&#x591A;&#xFF0C;&#x4F1A;&#x540C;&#x65F6;&#x521B;&#x5EFA;&#x8FC7;&#x591A;&#x7684;&#x6587;&#x4EF6;&#x53E5;&#x67C4;&#xFF0C;<br>&#x8D85;&#x8FC7;&#x4E86;&#x7CFB;&#x7EDF;&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x53E5;&#x67C4;&#x6570;&#x7684;&#x9650;&#x5236;&#x540E;&#xFF0C;&#x5C31;&#x4E0D;&#x80FD;&#x518D;&#x7EE7;&#x7EED;&#x6253;&#x5F00;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x3002;<br><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x662F;509&#x5462;&#xFF1F;</strong><br>&#x7CFB;&#x7EDF;&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x53E5;&#x67C4;&#x6570;&#x7684;&#x9650;&#x5236;&#x662F;512&#x4E2A;&#xFF0C;&#x5176;&#x4E2D;&#x4E09;&#x4E2A;&#x662F;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6587;&#x4EF6;<strong>stdin</strong>,&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x6587;&#x4EF6;<strong>stdout</strong>,&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#x6587;&#x4EF6;<strong>stderr</strong><br>&#x8BBE;&#x7F6E;<br>&#x83B7;&#x53D6;&#x548C;&#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x5141;&#x8BB8;&#x6253;&#x5F00;&#x7684;&#x6700;&#x5927;&#x53E5;&#x67C4;&#x6570;&#x7684;&#x51FD;&#x6570;&#xFF1A;<strong>getmaxstdio()</strong>&#x548C;<strong>setmaxstdio()</strong></li>\n</ul>\n","excerpt":"<h3 id=\"&#x5173;&#x952E;&#x7C7B;\"><a href=\"#&#x5173;&#x952E;&#x7C7B;\" class=\"headerlink\" title=\"&#x5173;&#x952E;&#x7C7B;\"></a>&#x5173;&#x952E;&#x7C7B;</h3><ul>\n<li>AssetsManagerEx&#xFF0C;&#x70ED;&#x66F4;&#x65B0;&#x6838;&#x5FC3;&#x7C7B;</li>\n<li>Manifest&#xFF0C;&#x66F4;&#x65B0;&#x6E05;&#x5355;&#x7C7B;</li>\n<li>EventAssetsManagerEx&#xFF0C;&#x70ED;&#x66F4;&#x65B0;&#x4E8B;&#x4EF6;&#x7C7B;</li>\n<li>EventListenerAssetsManagerEx&#xFF0C;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x7C7B;</li></ul>","more":"<h3 id=\"&#x4F7F;&#x7528;&#x65B9;&#x6CD5;\"><a href=\"#&#x4F7F;&#x7528;&#x65B9;&#x6CD5;\" class=\"headerlink\" title=\"&#x4F7F;&#x7528;&#x65B9;&#x6CD5;\"></a>&#x4F7F;&#x7528;&#x65B9;&#x6CD5;</h3>\n<li><p>C++   </p>\n<pre><code>auto dispatcher = Director::getInstance()-&gt;getEventDispatcher();\n//manifestUrl, &#x672C;&#x5730;&#x8D44;&#x6E90;&#x5217;&#x8868;&#x6587;&#x4EF6;\n//storagePath, &#x65B0;&#x7248;&#x672C;&#x8D44;&#x6E90;&#x5B58;&#x50A8;&#x8DEF;&#x5F84; . &#x56E0;&#x4E3A;&#x65E7;&#x7684;&#x8D44;&#x6E90;&#x662F;&#x53EA;&#x8BFB;&#x7684;, &#x6240;&#x4EE5;&#x9700;&#x8981;&#x653E;&#x5230;&#x65B0;&#x7684;&#x4F4D;&#x7F6E;\nauto manager = AssetsManagerEx::create(manifestUrl, storagePath);\n\nauto callback = [](EventAssetsManagerEx* event){ do_some_thing(); };\nauto listener = EventListenerAssetsManagerEx::create(manager, callback);\ndispatcher-&gt;addEventListenerWithSceneGraphPriority(listener, one_node);\n\ndispatcher-&gt;removeEventListener(listener);\n\n//&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x6709;&#x66F4;&#x65B0;\nvoid checkUpdate();\n</code></pre></li>\n\n<ul>\n<li><p>Lua   </p>\n<pre><code>self.assetsManagerEx = cc.AssetsManagerEx:create(MY_CONFIG.manifestUrl, storagePath)\nself.assetsManagerEx:retain()\n\n--&#x8BBE;&#x7F6E;&#x4E0B;&#x8F7D;&#x6D88;&#x606F;listener\nlocal eventListenerAssetsManagerEx = cc.EventListenerAssetsManagerEx:create(self.assetsManagerEx, handler(self, self.handleAssetsManagerEx))\ncc.Director:getInstance():getEventDispatcher():addEventListenerWithFixedPriority(eventListenerAssetsManagerEx, 1\n\n--&#x68C0;&#x67E5;&#x7248;&#x672C;&#x5E76;&#x5347;&#x7EA7;\nself.assetsManagerEx:checkUpdate()\n--&#x66F4;&#x65B0;&#x51FD;&#x6570;\nself.assetsManagerEx:update()\n</code></pre></li>\n</ul>\n<h4 id=\"EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;-&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;\"><a href=\"#EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;-&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;\" class=\"headerlink\" title=\"EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;,&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;\"></a>EventAssetsManagerEx&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;,&#x5728;callback&#x4E2D;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B;</h4><p>enum class EventCode<br>  {<br>  ERROR_NO_LOCAL_MANIFEST, //<strong>&#x672C;&#x5730;&#x6CA1;&#x6709;manifest&#x6587;&#x4EF6;</strong><br>  ERROR_DOWNLOAD_MANIFEST,//<strong>&#x4E0B;&#x8F7D;manifest&#x6587;&#x4EF6;&#x5931;&#x8D25;</strong><br>  ERROR_PARSE_MANIFEST,//<strong>&#x89E3;&#x6790;manifest&#x6587;&#x4EF6;&#x5931;&#x8D25;</strong><br>  NEW_VERSION_FOUND,//<strong>&#x53D1;&#x73B0;&#x65B0;&#x7248;&#x672C;</strong><br>  ALREADY_UP_TO_DATE,//<strong>&#x5DF2;&#x7ECF;&#x66F4;&#x65B0;&#x5230;&#x6700;&#x65B0;</strong><br>  UPDATE_PROGRESSION,//<strong>&#x66F4;&#x65B0;&#x8FDB;&#x5EA6;</strong><br>  ASSET_UPDATED,     //<strong>&#x66F4;&#x65B0;&#x6210;&#x529F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;</strong><br>  ERROR_UPDATING,//<strong>&#x66F4;&#x65B0;&#x4E2D;&#x9519;&#x8BEF;</strong><br>  UPDATE_FINISHED,     //<strong>&#x5168;&#x90E8;&#x66F4;&#x65B0;&#x5B8C;&#x6210;</strong><br>  UPDATE_FAILED,//<strong>&#x66F4;&#x65B0;&#x5931;&#x8D25;</strong><br>  ERROR_DECOMPRESS //<strong>&#x89E3;&#x538B;&#x5931;&#x8D25;</strong><br>  };   </p>\n<h3 id=\"&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;\"><a href=\"#&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;\" class=\"headerlink\" title=\"&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;\"></a>&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;</h3><ul>\n<li><p><strong>&#x672C;&#x5730;&#x8D44;&#x6E90;&#x5217;&#x8868;&#x7684;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;</strong><br>&#x53EA;&#x80FD;&#x662F;&#x653E;&#x5728;src&#x4E2D;,&#x4E0D;&#x80FD;&#x653E;&#x5728;&#x53EF;&#x8BFB;&#x5199;&#x533A;&#x57DF;,&#x56E0;&#x4E3A;&#x65E0;&#x6CD5;&#x786E;&#x8BA4;&#x5177;&#x4F53;&#x8BBE;&#x5907;&#x7684;&#x53EF;&#x8BFB;&#x5199;&#x533A;&#x57DF;&#x5728;&#x54EA;,<br>&#x6240;&#x4EE5;project.manifest&#x548C;version.manifest&#xFF0C;&#x4E5F;&#x8981;&#x4F5C;&#x4E3A;&#x70ED;&#x66F4;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x5199;&#x5728;project.manifest&#x4E2D;</p>\n</li>\n<li><p><strong>&#x70ED;&#x66F4;&#x65B0;&#x540E;,&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x6587;&#x4EF6;</strong><br>&#x56E0;&#x4E3A;src&#x76EE;&#x5F55;&#x5DF2;&#x7ECF;&#x5F88;&#x65E9;&#x4E4B;&#x524D;&#x5C31;&#x6DFB;&#x52A0;&#x8FDB;&#x53BB;&#x4E86;,&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x9700;&#x8981;&#x628A;&#x66F4;&#x65B0;&#x76EE;&#x5F55;&#x52A0;&#x5230;&#x6700;&#x524D;&#x9762;&#x53BB;  </p>\n<pre><code>cc.FileUtils:getInstance():addSearchPath(&quot;versionFiles/&quot;, true)  \n</code></pre><p>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;ture&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x8DEF;&#x5F84;&#x52A0;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x67E5;&#x627E;&#x7684;&#x4F4D;&#x7F6E;  </p>\n</li>\n<li><strong>&#x66F4;&#x65B0;&#x5230;509&#x4E2A;&#x6587;&#x4EF6;&#x65F6;&#x505C;&#x6B62;</strong><br>&#x56E0;&#x4E3A;Cocos&#x5728;&#x70ED;&#x66F4;&#x65B0;&#x65F6;&#xFF0C;&#x4F1A;&#x540C;&#x65F6;&#x6253;&#x5F00;&#x6240;&#x6709;&#x5F85;&#x66F4;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x6587;&#x4EF6;tmp&#xFF0C;&#x5982;&#x679C;&#x66F4;&#x65B0;&#x6587;&#x4EF6;&#x6570;&#x91CF;&#x8FC7;&#x591A;&#xFF0C;&#x4F1A;&#x540C;&#x65F6;&#x521B;&#x5EFA;&#x8FC7;&#x591A;&#x7684;&#x6587;&#x4EF6;&#x53E5;&#x67C4;&#xFF0C;<br>&#x8D85;&#x8FC7;&#x4E86;&#x7CFB;&#x7EDF;&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x53E5;&#x67C4;&#x6570;&#x7684;&#x9650;&#x5236;&#x540E;&#xFF0C;&#x5C31;&#x4E0D;&#x80FD;&#x518D;&#x7EE7;&#x7EED;&#x6253;&#x5F00;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x3002;<br><strong>&#x4E3A;&#x4EC0;&#x4E48;&#x662F;509&#x5462;&#xFF1F;</strong><br>&#x7CFB;&#x7EDF;&#x8FDB;&#x7A0B;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x53E5;&#x67C4;&#x6570;&#x7684;&#x9650;&#x5236;&#x662F;512&#x4E2A;&#xFF0C;&#x5176;&#x4E2D;&#x4E09;&#x4E2A;&#x662F;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6587;&#x4EF6;<strong>stdin</strong>,&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x6587;&#x4EF6;<strong>stdout</strong>,&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#x6587;&#x4EF6;<strong>stderr</strong><br>&#x8BBE;&#x7F6E;<br>&#x83B7;&#x53D6;&#x548C;&#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x5141;&#x8BB8;&#x6253;&#x5F00;&#x7684;&#x6700;&#x5927;&#x53E5;&#x67C4;&#x6570;&#x7684;&#x51FD;&#x6570;&#xFF1A;<strong>getmaxstdio()</strong>&#x548C;<strong>setmaxstdio()</strong></li>\n</ul>"},{"title":"骨骼动画数据预加载","date":"2016-12-02T23:42:49.000Z","_content":"## 为什么要做预加载？\n\n在做xyj战斗系统的过程中，我们发现，每次切换敌人波次的时候，会产生大约2~4秒的延迟（根据不同手机的处理能力不同，时间也不同）。  \nCocos2d-x本身提供的skeletonAnimation构造函数，是以skeletonDataFile和altasFile为参数。这其中的IO操作，会在骨骼动画比较大的情况下，在战斗中加载骨骼动画造成卡顿。\n","source":"_posts/skeletonanimation-data-interface.md","raw":"---\ntitle: 骨骼动画数据预加载\ndate: 2016-12-03 07:42:49\ntags:\ncategories: Cocos2d-x优化\n---\n## 为什么要做预加载？\n\n在做xyj战斗系统的过程中，我们发现，每次切换敌人波次的时候，会产生大约2~4秒的延迟（根据不同手机的处理能力不同，时间也不同）。  \nCocos2d-x本身提供的skeletonAnimation构造函数，是以skeletonDataFile和altasFile为参数。这其中的IO操作，会在骨骼动画比较大的情况下，在战斗中加载骨骼动画造成卡顿。\n","slug":"skeletonanimation-data-interface","published":1,"updated":"2016-12-03T00:50:48.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwflwznr000k2sv09mrf76fw","content":"<h2 id=\"&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;\"><a href=\"#&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;\" class=\"headerlink\" title=\"&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;\"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;</h2><p>&#x5728;&#x505A;xyj&#x6218;&#x6597;&#x7CFB;&#x7EDF;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#xFF0C;&#x6BCF;&#x6B21;&#x5207;&#x6362;&#x654C;&#x4EBA;&#x6CE2;&#x6B21;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x5927;&#x7EA6;2~4&#x79D2;&#x7684;&#x5EF6;&#x8FDF;&#xFF08;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x624B;&#x673A;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x4E0D;&#x540C;&#xFF0C;&#x65F6;&#x95F4;&#x4E5F;&#x4E0D;&#x540C;&#xFF09;&#x3002;<br>Cocos2d-x&#x672C;&#x8EAB;&#x63D0;&#x4F9B;&#x7684;skeletonAnimation&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x662F;&#x4EE5;skeletonDataFile&#x548C;altasFile&#x4E3A;&#x53C2;&#x6570;&#x3002;&#x8FD9;&#x5176;&#x4E2D;&#x7684;IO&#x64CD;&#x4F5C;&#xFF0C;&#x4F1A;&#x5728;&#x9AA8;&#x9ABC;&#x52A8;&#x753B;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x6218;&#x6597;&#x4E2D;&#x52A0;&#x8F7D;&#x9AA8;&#x9ABC;&#x52A8;&#x753B;&#x9020;&#x6210;&#x5361;&#x987F;&#x3002;</p>\n","excerpt":"","more":"<h2 id=\"&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;\"><a href=\"#&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;\" class=\"headerlink\" title=\"&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;\"></a>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x505A;&#x9884;&#x52A0;&#x8F7D;&#xFF1F;</h2><p>&#x5728;&#x505A;xyj&#x6218;&#x6597;&#x7CFB;&#x7EDF;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#xFF0C;&#x6BCF;&#x6B21;&#x5207;&#x6362;&#x654C;&#x4EBA;&#x6CE2;&#x6B21;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x5927;&#x7EA6;2~4&#x79D2;&#x7684;&#x5EF6;&#x8FDF;&#xFF08;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x624B;&#x673A;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x4E0D;&#x540C;&#xFF0C;&#x65F6;&#x95F4;&#x4E5F;&#x4E0D;&#x540C;&#xFF09;&#x3002;<br>Cocos2d-x&#x672C;&#x8EAB;&#x63D0;&#x4F9B;&#x7684;skeletonAnimation&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x662F;&#x4EE5;skeletonDataFile&#x548C;altasFile&#x4E3A;&#x53C2;&#x6570;&#x3002;&#x8FD9;&#x5176;&#x4E2D;&#x7684;IO&#x64CD;&#x4F5C;&#xFF0C;&#x4F1A;&#x5728;&#x9AA8;&#x9ABC;&#x52A8;&#x753B;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x6218;&#x6597;&#x4E2D;&#x52A0;&#x8F7D;&#x9AA8;&#x9ABC;&#x52A8;&#x753B;&#x9020;&#x6210;&#x5361;&#x987F;&#x3002;</p>\n"}],"PostAsset":[{"_id":"source/_posts/hot-update/img1.png","slug":"img1.png","post":"ciwflwznl000j2sv0749i5l09","modified":0,"renderable":0}],"PostCategory":[{"post_id":"ciwflwzlc00002sv02wy3ry5o","category_id":"ciwflwzlp00022sv0epgne8ni","_id":"ciwflwzmk00082sv0nzj6zi30"},{"post_id":"ciwflwzll00012sv0p70hzawr","category_id":"ciwflwzmb00062sv0hhvoeq0s","_id":"ciwflwzmx000b2sv0ek0ijh4p"},{"post_id":"ciwflwzly00032sv0izt505zb","category_id":"ciwflwzlp00022sv0epgne8ni","_id":"ciwflwzmz000d2sv0gyoay3sj"},{"post_id":"ciwflwzm300042sv088yuw47m","category_id":"ciwflwzmx000c2sv0ibj2tvza","_id":"ciwflwzn0000f2sv0kyo654tg"},{"post_id":"ciwflwzmf00072sv0rc8tz3r6","category_id":"ciwflwzmz000e2sv0y1dkw78d","_id":"ciwflwzn1000h2sv0tren68o3"},{"post_id":"ciwflwzml00092sv0d5pyuymj","category_id":"ciwflwzn1000g2sv0grsmtgar","_id":"ciwflwzn2000i2sv0yxths7b6"},{"post_id":"ciwflwznl000j2sv0749i5l09","category_id":"ciwflwznu000l2sv0el8m4zxw","_id":"ciwflwzo0000n2sv0kgfac3b3"},{"post_id":"ciwflwznr000k2sv09mrf76fw","category_id":"ciwflwzny000m2sv0g8rc7n7k","_id":"ciwflwzo2000o2sv02bl6igrx"}],"PostTag":[],"Tag":[]}}